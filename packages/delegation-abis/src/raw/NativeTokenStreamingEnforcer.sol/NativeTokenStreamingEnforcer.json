{"abi":[{"type":"function","name":"afterAllHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"afterHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"beforeAllHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"beforeHook","inputs":[{"name":"_terms","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"_mode","type":"bytes32","internalType":"ModeCode"},{"name":"_executionCallData","type":"bytes","internalType":"bytes"},{"name":"_delegationHash","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"_redeemer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAvailableAmount","inputs":[{"name":"_delegationManager","type":"address","internalType":"address"},{"name":"_delegationHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"availableAmount_","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTermsInfo","inputs":[{"name":"_terms","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"initialAmount_","type":"uint256","internalType":"uint256"},{"name":"maxAmount_","type":"uint256","internalType":"uint256"},{"name":"amountPerSecond_","type":"uint256","internalType":"uint256"},{"name":"startTime_","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"streamingAllowances","inputs":[{"name":"delegationManager","type":"address","internalType":"address"},{"name":"delegationHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"initialAmount","type":"uint256","internalType":"uint256"},{"name":"maxAmount","type":"uint256","internalType":"uint256"},{"name":"amountPerSecond","type":"uint256","internalType":"uint256"},{"name":"startTime","type":"uint256","internalType":"uint256"},{"name":"spent","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"event","name":"IncreasedSpentMap","inputs":[{"name":"sender","type":"address","indexed":true,"internalType":"address"},{"name":"redeemer","type":"address","indexed":true,"internalType":"address"},{"name":"delegationHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"initialAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"maxAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amountPerSecond","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"startTime","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"spent","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"lastUpdateTimestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561001057600080fd5b506109a4806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100e9578063fb7d2c5b1461010a57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610765565b50505050505050505050565b005b61009c6100ac366004610765565b610177565b6100c46100bf366004610832565b61025c565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b6100fc6100f7366004610874565b610338565b6040519081526020016100e0565b61014f610118366004610874565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100e0565b856101838160006103a3565b6101d45760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101e58160006103a3565b61023f5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101cb565b5061024e8c8c898989886103ba565b505050505050505050505050565b6000808080608085146102cb5760405162461bcd60e51b815260206004820152603160248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101cb565b6102d960206000878961089e565b6102e2916108c8565b93506102f260406020878961089e565b6102fb916108c8565b925061030b60606040878961089e565b610314916108c8565b915061032460806060878961089e565b61032d916108c8565b939692955090935050565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a0810183528154815260018201549381019390935260028101549183019190915260038101546060830152600481015460808301529061039b9061062e565b949350505050565b6001600160f81b0319828116908216145b92915050565b60006103c685856106af565b50509150506000806000806103db8b8b61025c565b93509350935093508383101561044b5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e7660448201526e185b1a590b5b585e0b585b5bdd5b9d608a1b60648201526084016101cb565b600081116104b85760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e76604482015273616c69642d7a65726f2d73746172742d74696d6560601b60648201526084016101cb565b336000908152602081815260408083208a8452909152812060048101549091036104f5578481556001810184905560028101839055600381018290555b6040805160a081018252825481526001830154602082015260028301549181019190915260038201546060820152600482015460808201526105369061062e565b86111561059d5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a616c6c60448201526e1bddd85b98d94b595e18d959591959608a1b60648201526084016101cb565b858160040160008282546105b191906108fc565b9091555050600481015460408051878152602081018790529081018590526060810184905260808101919091524260a082015288906001600160a01b0389169033907fa4d5df1d290378aabb8f054b2f3100faf35e2266bb7fbe661f947dfc686704ae9060c00160405180910390a4505050505050505050505050565b6000816060015142101561064457506000919050565b6000826060015142610656919061090f565b9050600081846040015161066a9190610922565b845161067691906108fc565b9050836020015181111561068b575060208301515b808460800151106106a0575060009392505050565b608084015161039b908261090f565b60008036816106c1601482878961089e565b6106ca91610939565b60601c93506106dd60346014878961089e565b6106e6916108c8565b92506106f5856034818961089e565b949793965094505050565b60008083601f84011261071257600080fd5b50813567ffffffffffffffff81111561072a57600080fd5b60208301915083602082850101111561074257600080fd5b9250929050565b80356001600160a01b038116811461076057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561078457600080fd5b8a3567ffffffffffffffff8082111561079c57600080fd5b6107a88e838f01610700565b909c509a5060208d01359150808211156107c157600080fd5b6107cd8e838f01610700565b909a50985060408d0135975060608d01359150808211156107ed57600080fd5b506107fa8d828e01610700565b90965094505060808b0135925061081360a08c01610749565b915061082160c08c01610749565b90509295989b9194979a5092959850565b6000806020838503121561084557600080fd5b823567ffffffffffffffff81111561085c57600080fd5b61086885828601610700565b90969095509350505050565b6000806040838503121561088757600080fd5b61089083610749565b946020939093013593505050565b600080858511156108ae57600080fd5b838611156108bb57600080fd5b5050820193919092039150565b803560208310156103b457600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103b4576103b46108e6565b818103818111156103b4576103b46108e6565b80820281158282048414176103b4576103b46108e6565b6bffffffffffffffffffffffff1981358181169160148510156109665780818660140360031b1b83161692505b50509291505056fea264697066735822122052704058a3717c34d4c81be20ba9801f9b76f6f0c65ef9abba014d246806f21f64736f6c63430008170033","sourceMap":"975:6942:83:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100e9578063fb7d2c5b1461010a57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610765565b50505050505050505050565b005b61009c6100ac366004610765565b610177565b6100c46100bf366004610832565b61025c565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b6100fc6100f7366004610874565b610338565b6040519081526020016100e0565b61014f610118366004610874565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100e0565b856101838160006103a3565b6101d45760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101e58160006103a3565b61023f5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101cb565b5061024e8c8c898989886103ba565b505050505050505050505050565b6000808080608085146102cb5760405162461bcd60e51b815260206004820152603160248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101cb565b6102d960206000878961089e565b6102e2916108c8565b93506102f260406020878961089e565b6102fb916108c8565b925061030b60606040878961089e565b610314916108c8565b915061032460806060878961089e565b61032d916108c8565b939692955090935050565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a0810183528154815260018201549381019390935260028101549183019190915260038101546060830152600481015460808301529061039b9061062e565b949350505050565b6001600160f81b0319828116908216145b92915050565b60006103c685856106af565b50509150506000806000806103db8b8b61025c565b93509350935093508383101561044b5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e7660448201526e185b1a590b5b585e0b585b5bdd5b9d608a1b60648201526084016101cb565b600081116104b85760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e76604482015273616c69642d7a65726f2d73746172742d74696d6560601b60648201526084016101cb565b336000908152602081815260408083208a8452909152812060048101549091036104f5578481556001810184905560028101839055600381018290555b6040805160a081018252825481526001830154602082015260028301549181019190915260038201546060820152600482015460808201526105369061062e565b86111561059d5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a616c6c60448201526e1bddd85b98d94b595e18d959591959608a1b60648201526084016101cb565b858160040160008282546105b191906108fc565b9091555050600481015460408051878152602081018790529081018590526060810184905260808101919091524260a082015288906001600160a01b0389169033907fa4d5df1d290378aabb8f054b2f3100faf35e2266bb7fbe661f947dfc686704ae9060c00160405180910390a4505050505050505050505050565b6000816060015142101561064457506000919050565b6000826060015142610656919061090f565b9050600081846040015161066a9190610922565b845161067691906108fc565b9050836020015181111561068b575060208301515b808460800151106106a0575060009392505050565b608084015161039b908261090f565b60008036816106c1601482878961089e565b6106ca91610939565b60601c93506106dd60346014878961089e565b6106e6916108c8565b92506106f5856034818961089e565b949793965094505050565b60008083601f84011261071257600080fd5b50813567ffffffffffffffff81111561072a57600080fd5b60208301915083602082850101111561074257600080fd5b9250929050565b80356001600160a01b038116811461076057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561078457600080fd5b8a3567ffffffffffffffff8082111561079c57600080fd5b6107a88e838f01610700565b909c509a5060208d01359150808211156107c157600080fd5b6107cd8e838f01610700565b909a50985060408d0135975060608d01359150808211156107ed57600080fd5b506107fa8d828e01610700565b90965094505060808b0135925061081360a08c01610749565b915061082160c08c01610749565b90509295989b9194979a5092959850565b6000806020838503121561084557600080fd5b823567ffffffffffffffff81111561085c57600080fd5b61086885828601610700565b90969095509350505050565b6000806040838503121561088757600080fd5b61089083610749565b946020939093013593505050565b600080858511156108ae57600080fd5b838611156108bb57600080fd5b5050820193919092039150565b803560208310156103b457600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103b4576103b46108e6565b818103818111156103b4576103b46108e6565b80820281158282048414176103b4576103b46108e6565b6bffffffffffffffffffffffff1981358181169160148510156109665780818660140360031b1b83161692505b50509291505056fea264697066735822122052704058a3717c34d4c81be20ba9801f9b76f6f0c65ef9abba014d246806f21f64736f6c63430008170033","sourceMap":"975:6942:83:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;614:126:63;;;;;;:::i;:::-;;;;;;;;;;;;;;3511:440:83;;;;;;:::i;:::-;;:::i;4560:510::-;;;;;;:::i;:::-;;:::i;:::-;;;;2515:25:111;;;2571:2;2556:18;;2549:34;;;;2599:18;;;2592:34;2657:2;2642:18;;2635:34;2502:3;2487:19;4560:510:83;;;;;;;;2344:353;;;;;;:::i;:::-;;:::i;:::-;;;3085:25:111;;;3073:2;3058:18;2344:353:83;2939:177:111;1432:118:83;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3380:25:111;;;3436:2;3421:18;;3414:34;;;;3464:18;;;3457:34;;;;3522:2;3507:18;;3500:34;3565:3;3550:19;;3543:35;3367:3;3352:19;1432:118:83;3121:463:111;3511:440:83;3799:5;1402:45:63;3799:5:83;2789:4:16;1402:45:63;:::i;:::-;1394:90;;;;-1:-1:-1;;;1394:90:63;;3791:2:111;1394:90:63;;;3773:21:111;;;3810:18;;;3803:30;3869:34;3849:18;;;3842:62;3921:18;;1394:90:63;;;;;;;;;3839:5:83;4155:1:16;4151:12;;;2014:29:63::1;4151:12:16::0;1954:18:63::1;2014:29;:::i;:::-;2006:79;;;::::0;-1:-1:-1;;;2006:79:63;;4152:2:111;2006:79:63::1;::::0;::::1;4134:21:111::0;4191:2;4171:18;;;4164:30;4230:34;4210:18;;;4203:62;-1:-1:-1;;;4281:18:111;;;4274:35;4326:19;;2006:79:63::1;3950:401:111::0;2006:79:63::1;1937:159;3860:84:83::2;3889:6;;3897:18;;3917:15;3934:9;3860:28;:84::i;:::-;1504:1:63::1;3511:440:83::0;;;;;;;;;;;:::o;4560:510::-;4650:22;;;;4779:3;4762:20;;4754:82;;;;-1:-1:-1;;;4754:82:83;;4558:2:111;4754:82:83;;;4540:21:111;4597:2;4577:18;;;4570:30;4636:34;4616:18;;;4609:62;-1:-1:-1;;;4687:18:111;;;4680:47;4744:19;;4754:82:83;4356:413:111;4754:82:83;4880:12;4889:2;4887:1;4880:6;;:12;:::i;:::-;4872:21;;;:::i;:::-;4864:30;-1:-1:-1;4933:13:83;4943:2;4940;4933:6;;:13;:::i;:::-;4925:22;;;:::i;:::-;4917:31;-1:-1:-1;4993:13:83;5003:2;5000;4993:6;;:13;:::i;:::-;4985:22;;;:::i;:::-;4977:31;-1:-1:-1;5047:14:83;5057:3;5054:2;5047:6;;:14;:::i;:::-;5039:23;;;:::i;:::-;4560:510;;;;-1:-1:-1;4560:510:83;;-1:-1:-1;;4560:510:83:o;2344:353::-;-1:-1:-1;;;;;2574:39:83;;2494:24;2574:39;;;;;;;;;;;:56;;;;;;;;2659:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2574:56;2659:31;;:19;:31::i;:::-;2640:50;2344:353;-1:-1:-1;;;;2344:353:83:o;5304:120:16:-;-1:-1:-1;;;;;;5381:40:16;;;;;;;5304:120;;;;;:::o;5644:1413:83:-;5855:14;5874:33;:18;;:31;:33::i;:::-;5852:55;;;;;5919:22;5943:18;5963:24;5989:18;6011:20;6024:6;;6011:12;:20::i;:::-;5918:113;;;;;;;;6064:14;6050:10;:28;;6042:88;;;;-1:-1:-1;;;6042:88:83;;5572:2:111;6042:88:83;;;5554:21:111;5611:2;5591:18;;;5584:30;5650:34;5630:18;;;5623:62;-1:-1:-1;;;5701:18:111;;;5694:45;5756:19;;6042:88:83;5370:411:111;6042:88:83;6161:1;6148:10;:14;6140:79;;;;-1:-1:-1;;;6140:79:83;;5988:2:111;6140:79:83;;;5970:21:111;6027:2;6007:18;;;6000:30;6066:34;6046:18;;;6039:62;-1:-1:-1;;;6117:18:111;;;6110:50;6177:19;;6140:79:83;5786:416:111;6140:79:83;6290:10;6230:37;6270:31;;;;;;;;;;;:48;;;;;;;;6332:16;;;;6270:48;;6332:21;6328:290;;6413:41;;;6468:20;;;:33;;;6515:26;;;:45;;;6574:20;;;:33;;;6328:290;6646:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:19;:31::i;:::-;6636:6;:41;;6628:101;;;;-1:-1:-1;;;6628:101:83;;6409:2:111;6628:101:83;;;6391:21:111;6448:2;6428:18;;;6421:30;6487:34;6467:18;;;6460:62;-1:-1:-1;;;6538:18:111;;;6531:45;6593:19;;6628:101:83;6207:411:111;6628:101:83;6760:6;6740:10;:16;;;:26;;;;;;;:::i;:::-;;;;-1:-1:-1;;6995:16:83;;;;6782:268;;;7172:25:111;;;7228:2;7213:18;;7206:34;;;7256:18;;;7249:34;;;7314:2;7299:18;;7292:34;;;7357:3;7342:19;;7335:35;;;;7025:15:83;7401:3:111;7386:19;;7379:35;6860:15:83;;-1:-1:-1;;;;;6782:268:83;;;6813:10;;6782:268;;7159:3:111;7144:19;6782:268:83;;;;;;;5842:1215;;;;;;5644:1413;;;;;;:::o;7379:536::-;7468:7;7509:10;:20;;;7491:15;:38;7487:52;;;-1:-1:-1;7538:1:83;;7379:536;-1:-1:-1;7379:536:83:o;7487:52::-;7550:16;7587:10;:20;;;7569:15;:38;;;;:::i;:::-;7550:57;;7617:17;7694:8;7665:10;:26;;;:37;;;;:::i;:::-;7637:24;;:66;;;;:::i;:::-;7617:86;;7730:10;:20;;;7718:9;:32;7714:95;;;-1:-1:-1;7778:20:83;;;;7714:95;7843:9;7823:10;:16;;;:29;7819:43;;-1:-1:-1;7861:1:83;;7379:536;-1:-1:-1;;;7379:536:83:o;7819:43::-;7892:16;;;;7880:28;;:9;:28;:::i;2513:333:15:-;2616:14;;2647:23;2616:14;2711:23;2731:2;2616:14;2711:17;;:23;:::i;:::-;2703:32;;;:::i;:::-;2695:41;;;-1:-1:-1;2770:24:15;2791:2;2788;2770:17;;:24;:::i;:::-;2762:33;;;:::i;:::-;2754:42;-1:-1:-1;2817:22:15;:17;2835:2;2817:17;;:22;:::i;:::-;2513:333;;;;-1:-1:-1;2806:33:15;-1:-1:-1;;;2513:333:15:o;14:347:111:-;65:8;75:6;129:3;122:4;114:6;110:17;106:27;96:55;;147:1;144;137:12;96:55;-1:-1:-1;170:20:111;;213:18;202:30;;199:50;;;245:1;242;235:12;199:50;282:4;274:6;270:17;258:29;;334:3;327:4;318:6;310;306:19;302:30;299:39;296:59;;;351:1;348;341:12;296:59;14:347;;;;;:::o;366:173::-;434:20;;-1:-1:-1;;;;;483:31:111;;473:42;;463:70;;529:1;526;519:12;463:70;366:173;;;:::o;544:1321::-;719:6;727;735;743;751;759;767;775;783;791;844:3;832:9;823:7;819:23;815:33;812:53;;;861:1;858;851:12;812:53;901:9;888:23;930:18;971:2;963:6;960:14;957:34;;;987:1;984;977:12;957:34;1026:58;1076:7;1067:6;1056:9;1052:22;1026:58;:::i;:::-;1103:8;;-1:-1:-1;1000:84:111;-1:-1:-1;1191:2:111;1176:18;;1163:32;;-1:-1:-1;1207:16:111;;;1204:36;;;1236:1;1233;1226:12;1204:36;1275:60;1327:7;1316:8;1305:9;1301:24;1275:60;:::i;:::-;1354:8;;-1:-1:-1;1249:86:111;-1:-1:-1;1436:2:111;1421:18;;1408:32;;-1:-1:-1;1493:2:111;1478:18;;1465:32;;-1:-1:-1;1509:16:111;;;1506:36;;;1538:1;1535;1528:12;1506:36;;1577:60;1629:7;1618:8;1607:9;1603:24;1577:60;:::i;:::-;1656:8;;-1:-1:-1;1551:86:111;-1:-1:-1;;1738:3:111;1723:19;;1710:33;;-1:-1:-1;1762:39:111;1796:3;1781:19;;1762:39;:::i;:::-;1752:49;;1820:39;1854:3;1843:9;1839:19;1820:39;:::i;:::-;1810:49;;544:1321;;;;;;;;;;;;;:::o;1870:409::-;1940:6;1948;2001:2;1989:9;1980:7;1976:23;1972:32;1969:52;;;2017:1;2014;2007:12;1969:52;2057:9;2044:23;2090:18;2082:6;2079:30;2076:50;;;2122:1;2119;2112:12;2076:50;2161:58;2211:7;2202:6;2191:9;2187:22;2161:58;:::i;:::-;2238:8;;2135:84;;-1:-1:-1;1870:409:111;-1:-1:-1;;;;1870:409:111:o;2680:254::-;2748:6;2756;2809:2;2797:9;2788:7;2784:23;2780:32;2777:52;;;2825:1;2822;2815:12;2777:52;2848:29;2867:9;2848:29;:::i;:::-;2838:39;2924:2;2909:18;;;;2896:32;;-1:-1:-1;;;2680:254:111:o;4774:331::-;4879:9;4890;4932:8;4920:10;4917:24;4914:44;;;4954:1;4951;4944:12;4914:44;4983:6;4973:8;4970:20;4967:40;;;5003:1;5000;4993:12;4967:40;-1:-1:-1;;5029:23:111;;;5074:25;;;;;-1:-1:-1;4774:331:111:o;5110:255::-;5230:19;;5269:2;5261:11;;5258:101;;;-1:-1:-1;;5330:2:111;5326:12;;;5323:1;5319:20;5315:33;5304:45;5110:255;;;;:::o;6623:127::-;6684:10;6679:3;6675:20;6672:1;6665:31;6715:4;6712:1;6705:15;6739:4;6736:1;6729:15;6755:125;6820:9;;;6841:10;;;6838:36;;;6854:18;;:::i;7425:128::-;7492:9;;;7513:11;;;7510:37;;;7527:18;;:::i;7558:168::-;7631:9;;;7662;;7679:15;;;7673:22;;7659:37;7649:71;;7700:18;;:::i;7731:337::-;-1:-1:-1;;7852:19:111;;7939:11;;;;7970:2;7962:11;;7959:103;;;8049:2;8043;8036:3;8032:2;8028:12;8025:1;8021:20;8017:29;8013:2;8009:38;8005:47;7996:56;;7959:103;;;7731:337;;;;:::o","linkReferences":{}},"methodIdentifiers":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"ed463367","afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"d3eddcc5","beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"414c3e33","beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"a145832a","getAvailableAmount(address,bytes32)":"ee73d772","getTermsInfo(bytes)":"b99deb0e","streamingAllowances(address,bytes32)":"fb7d2c5b"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"redeemer\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"delegationHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"initialAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maxAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountPerSecond\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"spent\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lastUpdateTimestamp\",\"type\":\"uint256\"}],\"name\":\"IncreasedSpentMap\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"afterAllHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"afterHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"beforeAllHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"_mode\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"_executionCallData\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"_delegationHash\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_redeemer\",\"type\":\"address\"}],\"name\":\"beforeHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_delegationManager\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"_delegationHash\",\"type\":\"bytes32\"}],\"name\":\"getAvailableAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"availableAmount_\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"}],\"name\":\"getTermsInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"initialAmount_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxAmount_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountPerSecond_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime_\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"delegationManager\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"delegationHash\",\"type\":\"bytes32\"}],\"name\":\"streamingAllowances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"initialAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountPerSecond\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"spent\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This enforcer operates only in single execution call type and with default execution mode.To enable an 'infinite' token stream, set `maxAmount` to type(uint256).max\",\"kind\":\"dev\",\"methods\":{\"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"Reverts if the native token value exceeds the currently unlocked amount.\",\"params\":{\"_delegationHash\":\"The hash of the delegation being operated on.\",\"_executionCallData\":\"The execution data which, when decoded via ExecutionLib.decodeSingle(),        yields (target, value, callData). Here, the `value` is the native token amount.\",\"_mode\":\"The execution mode. (Must be Single callType, Default execType)\",\"_redeemer\":\"The address of the redeemer.\",\"_terms\":\"128 packed bytes where: - 32 bytes: initial amount. - 32 bytes: max amount. - 32 bytes: amount per second. - 32 bytes: start time for the streaming allowance.\"}},\"getAvailableAmount(address,bytes32)\":{\"params\":{\"_delegationHash\":\"The hash of the delegation.\",\"_delegationManager\":\"The delegation manager address.\"},\"returns\":{\"availableAmount_\":\"The native token amount available (capped by `maxAmount`).\"}},\"getTermsInfo(bytes)\":{\"params\":{\"_terms\":\"128 packed bytes: - 32 bytes: initial amount. - 32 bytes: max amount. - 32 bytes: amount per second. - 32 bytes: start time for the streaming allowance.\"},\"returns\":{\"amountPerSecond_\":\"The rate at which the allowance increases per second.\",\"initialAmount_\":\"The immediate native token amount available at startTime.\",\"maxAmount_\":\"The hard cap on total native tokens that can be unlocked.\",\"startTime_\":\"The timestamp from which the allowance streaming begins.\"}}},\"stateVariables\":{\"streamingAllowances\":{\"details\":\"Maps a delegation manager address and delegation hash to a StreamingAllowance.\"}},\"title\":\"NativeTokenStreamingEnforcer\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions after all actions in a batch redemption process have been executed.\"},\"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions after the execution tied to a specific delegation in the redemption process.\"},\"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions before any actions in a batch redemption process begin.\"},\"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Hook called before a native token transfer to enforce streaming limits.\"},\"getAvailableAmount(address,bytes32)\":{\"notice\":\"Retrieves the current available allowance for a given delegation.\"},\"getTermsInfo(bytes)\":{\"notice\":\"Decodes the streaming terms.\"}},\"notice\":\"This contract enforces a linear streaming limit for native tokens. How it works:  1. Nothing is available before `startTime`.  2. At `startTime`, `initialAmount` becomes immediately available.  3. After `startTime`, tokens accrue linearly at `amountPerSecond`.  4. The total unlocked is capped by `maxAmount`.  5. The contract tracks how many native tokens have been spent and will revert     if an attempted transfer (i.e. the value sent) exceeds what remains unlocked.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/enforcers/NativeTokenStreamingEnforcer.sol\":\"NativeTokenStreamingEnforcer\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@FCL/=lib/FCL/solidity/src/\",\":@SCL/=lib/SCL/src/\",\":@account-abstraction/=lib/account-abstraction/contracts/\",\":@bytes-utils/=lib/solidity-bytes-utils/contracts/\",\":@erc7579/=lib/erc7579-implementation/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-upgradable-contracts/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@solidity-stringutils/=lib/solidity-stringutils/src/\",\":@solidity/=lib/SCL/src/\",\":FCL/=lib/FCL/solidity/src/\",\":SCL/=lib/SCL/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":erc7579-implementation/=lib/erc7579-implementation/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":sentinellist/=lib/erc7579-implementation/node_modules/@rhinestone/sentinellist/src/\",\":solady/=lib/erc7579-implementation/node_modules/solady/src/\",\":solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/\",\":solidity-stringutils/=lib/solidity-stringutils/\"]},\"sources\":{\"lib/account-abstraction/contracts/interfaces/PackedUserOperation.sol\":{\"keccak256\":\"0x1129b46381db68eddbc5cb49e50664667b66b03c480453858e7b25eabe444359\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://499a948aba60480dba6e25c763b8d918f1c246eb7a3302e04f493e080f3295be\",\"dweb:/ipfs/QmeRhhswf4NACcBKam2PyjpTP2ddSm648kah5kkQJsvwz3\"]},\"lib/erc7579-implementation/src/interfaces/IERC7579Account.sol\":{\"keccak256\":\"0x08368aba5f1bb83eb57e9f8d31a04edee4be69159b4844a6443f65100917011c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://789244f53fb8b25f4bacb8ac0b9c2f5ea2067a9c5c7bd13fd00e10618e52e2ff\",\"dweb:/ipfs/QmVSbGSyDpfL6UfyvaMBQHmV9u52wway1h3caJnvXVgkvn\"]},\"lib/erc7579-implementation/src/lib/ExecutionLib.sol\":{\"keccak256\":\"0xb436732367ed8a45ddfaa95c9c977ee7674ff5755353c3792a38608640406126\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8a60f10547e9d25e96e516406f16a35ce075dd4db79b7dccd92f90224c9f23b4\",\"dweb:/ipfs/QmcC3jpNmo7kT1oU8taPuZRjcWh88J3d4rv3hYsQKRVBwW\"]},\"lib/erc7579-implementation/src/lib/ModeLib.sol\":{\"keccak256\":\"0x02ce0fc8805d1427841f32e2335157e3fae18e99d5c49ba46d53e12fcd1a5185\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9900d0dfb593b136a058a16f1817f60d5096c3eca6adea662381e12c241b14b4\",\"dweb:/ipfs/QmdsfLLtfzY9oEpZxk1Ve1PLuPQdphZcNK92L6mHa8n1h7\"]},\"src/enforcers/CaveatEnforcer.sol\":{\"keccak256\":\"0xe6e44a3dfcb667fba89d7dc73ba06327add01a9ef4ecd11f3627d97e337041d5\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://79988dc7b56022300549c6ede1c7075fdcadb308191e0ece4f85f94f69036bb5\",\"dweb:/ipfs/QmRG1q4NFfo6RpoVWMdK3679eLg2fUru4dUESwCcmxzvoz\"]},\"src/enforcers/NativeTokenStreamingEnforcer.sol\":{\"keccak256\":\"0x363796c647aa2d617bcb8d27e0594666a2fb5694220d2f684bebbe96b0794a54\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://83c90d103f9fb6965f1ac61682cf0d8e65dc70aefd0fa8874dd157f9768f1aff\",\"dweb:/ipfs/QmeNfh9ub7p56ChE2wNRf65D6ncXewgXCYHE8zHU6wYqSc\"]},\"src/interfaces/ICaveatEnforcer.sol\":{\"keccak256\":\"0x61c2d69cb8cc4b04d5ce786ff1b38c07009a262b64900e58a109239942bfad16\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://a67f09f1229e703574dff9103daafa494e90e22577691f180ecfc2c3f50a3ecc\",\"dweb:/ipfs/QmVFXq8mx2PMkgMLoh3pTyQqkH9umwRUjKXtjeZscktf79\"]},\"src/utils/Constants.sol\":{\"keccak256\":\"0x5f1e2913a96b7f88bc7fbd2de329465822ae0d438ff212883c6dd3bd5e9609a5\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://51a750792520aaf10cb246112d5554bb33007edd8be97b78e90be9847d663978\",\"dweb:/ipfs/QmbQSZGNeG9f8DNVbCEo1SGRoJU4fQJwQfUHrzQNayFWNs\"]},\"src/utils/Types.sol\":{\"keccak256\":\"0xda4094eb4839087157f34750fb4d1a2d6241fbb8ee0d41fd1f2905209e6a05b0\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://1fab0d416245579b01d908ffb607f41ace7b103c1c6a3b9d0f8b32f29ac46247\",\"dweb:/ipfs/QmfDWFbdCEkvaKnPpZmDPtxYVBxHt2XA2zY9jon9Jm7pFf\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"sender","type":"address","indexed":true},{"internalType":"address","name":"redeemer","type":"address","indexed":true},{"internalType":"bytes32","name":"delegationHash","type":"bytes32","indexed":true},{"internalType":"uint256","name":"initialAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"maxAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"amountPerSecond","type":"uint256","indexed":false},{"internalType":"uint256","name":"startTime","type":"uint256","indexed":false},{"internalType":"uint256","name":"spent","type":"uint256","indexed":false},{"internalType":"uint256","name":"lastUpdateTimestamp","type":"uint256","indexed":false}],"type":"event","name":"IncreasedSpentMap","anonymous":false},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"afterAllHook"},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"afterHook"},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"beforeAllHook"},{"inputs":[{"internalType":"bytes","name":"_terms","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"_mode","type":"bytes32"},{"internalType":"bytes","name":"_executionCallData","type":"bytes"},{"internalType":"bytes32","name":"_delegationHash","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"_redeemer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"beforeHook"},{"inputs":[{"internalType":"address","name":"_delegationManager","type":"address"},{"internalType":"bytes32","name":"_delegationHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getAvailableAmount","outputs":[{"internalType":"uint256","name":"availableAmount_","type":"uint256"}]},{"inputs":[{"internalType":"bytes","name":"_terms","type":"bytes"}],"stateMutability":"pure","type":"function","name":"getTermsInfo","outputs":[{"internalType":"uint256","name":"initialAmount_","type":"uint256"},{"internalType":"uint256","name":"maxAmount_","type":"uint256"},{"internalType":"uint256","name":"amountPerSecond_","type":"uint256"},{"internalType":"uint256","name":"startTime_","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"delegationManager","type":"address"},{"internalType":"bytes32","name":"delegationHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"streamingAllowances","outputs":[{"internalType":"uint256","name":"initialAmount","type":"uint256"},{"internalType":"uint256","name":"maxAmount","type":"uint256"},{"internalType":"uint256","name":"amountPerSecond","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"spent","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"Reverts if the native token value exceeds the currently unlocked amount.","params":{"_delegationHash":"The hash of the delegation being operated on.","_executionCallData":"The execution data which, when decoded via ExecutionLib.decodeSingle(),        yields (target, value, callData). Here, the `value` is the native token amount.","_mode":"The execution mode. (Must be Single callType, Default execType)","_redeemer":"The address of the redeemer.","_terms":"128 packed bytes where: - 32 bytes: initial amount. - 32 bytes: max amount. - 32 bytes: amount per second. - 32 bytes: start time for the streaming allowance."}},"getAvailableAmount(address,bytes32)":{"params":{"_delegationHash":"The hash of the delegation.","_delegationManager":"The delegation manager address."},"returns":{"availableAmount_":"The native token amount available (capped by `maxAmount`)."}},"getTermsInfo(bytes)":{"params":{"_terms":"128 packed bytes: - 32 bytes: initial amount. - 32 bytes: max amount. - 32 bytes: amount per second. - 32 bytes: start time for the streaming allowance."},"returns":{"amountPerSecond_":"The rate at which the allowance increases per second.","initialAmount_":"The immediate native token amount available at startTime.","maxAmount_":"The hard cap on total native tokens that can be unlocked.","startTime_":"The timestamp from which the allowance streaming begins."}}},"version":1},"userdoc":{"kind":"user","methods":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions after all actions in a batch redemption process have been executed."},"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions after the execution tied to a specific delegation in the redemption process."},"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions before any actions in a batch redemption process begin."},"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Hook called before a native token transfer to enforce streaming limits."},"getAvailableAmount(address,bytes32)":{"notice":"Retrieves the current available allowance for a given delegation."},"getTermsInfo(bytes)":{"notice":"Decodes the streaming terms."}},"version":1}},"settings":{"remappings":["@FCL/=lib/FCL/solidity/src/","@SCL/=lib/SCL/src/","@account-abstraction/=lib/account-abstraction/contracts/","@bytes-utils/=lib/solidity-bytes-utils/contracts/","@erc7579/=lib/erc7579-implementation/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-upgradable-contracts/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@solidity-stringutils/=lib/solidity-stringutils/src/","@solidity/=lib/SCL/src/","FCL/=lib/FCL/solidity/src/","SCL/=lib/SCL/","account-abstraction/=lib/account-abstraction/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","erc7579-implementation/=lib/erc7579-implementation/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","sentinellist/=lib/erc7579-implementation/node_modules/@rhinestone/sentinellist/src/","solady/=lib/erc7579-implementation/node_modules/solady/src/","solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/","solidity-stringutils/=lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/enforcers/NativeTokenStreamingEnforcer.sol":"NativeTokenStreamingEnforcer"},"evmVersion":"london","libraries":{}},"sources":{"lib/account-abstraction/contracts/interfaces/PackedUserOperation.sol":{"keccak256":"0x1129b46381db68eddbc5cb49e50664667b66b03c480453858e7b25eabe444359","urls":["bzz-raw://499a948aba60480dba6e25c763b8d918f1c246eb7a3302e04f493e080f3295be","dweb:/ipfs/QmeRhhswf4NACcBKam2PyjpTP2ddSm648kah5kkQJsvwz3"],"license":"GPL-3.0"},"lib/erc7579-implementation/src/interfaces/IERC7579Account.sol":{"keccak256":"0x08368aba5f1bb83eb57e9f8d31a04edee4be69159b4844a6443f65100917011c","urls":["bzz-raw://789244f53fb8b25f4bacb8ac0b9c2f5ea2067a9c5c7bd13fd00e10618e52e2ff","dweb:/ipfs/QmVSbGSyDpfL6UfyvaMBQHmV9u52wway1h3caJnvXVgkvn"],"license":"MIT"},"lib/erc7579-implementation/src/lib/ExecutionLib.sol":{"keccak256":"0xb436732367ed8a45ddfaa95c9c977ee7674ff5755353c3792a38608640406126","urls":["bzz-raw://8a60f10547e9d25e96e516406f16a35ce075dd4db79b7dccd92f90224c9f23b4","dweb:/ipfs/QmcC3jpNmo7kT1oU8taPuZRjcWh88J3d4rv3hYsQKRVBwW"],"license":"MIT"},"lib/erc7579-implementation/src/lib/ModeLib.sol":{"keccak256":"0x02ce0fc8805d1427841f32e2335157e3fae18e99d5c49ba46d53e12fcd1a5185","urls":["bzz-raw://9900d0dfb593b136a058a16f1817f60d5096c3eca6adea662381e12c241b14b4","dweb:/ipfs/QmdsfLLtfzY9oEpZxk1Ve1PLuPQdphZcNK92L6mHa8n1h7"],"license":"MIT"},"src/enforcers/CaveatEnforcer.sol":{"keccak256":"0xe6e44a3dfcb667fba89d7dc73ba06327add01a9ef4ecd11f3627d97e337041d5","urls":["bzz-raw://79988dc7b56022300549c6ede1c7075fdcadb308191e0ece4f85f94f69036bb5","dweb:/ipfs/QmRG1q4NFfo6RpoVWMdK3679eLg2fUru4dUESwCcmxzvoz"],"license":"MIT AND Apache-2.0"},"src/enforcers/NativeTokenStreamingEnforcer.sol":{"keccak256":"0x363796c647aa2d617bcb8d27e0594666a2fb5694220d2f684bebbe96b0794a54","urls":["bzz-raw://83c90d103f9fb6965f1ac61682cf0d8e65dc70aefd0fa8874dd157f9768f1aff","dweb:/ipfs/QmeNfh9ub7p56ChE2wNRf65D6ncXewgXCYHE8zHU6wYqSc"],"license":"MIT AND Apache-2.0"},"src/interfaces/ICaveatEnforcer.sol":{"keccak256":"0x61c2d69cb8cc4b04d5ce786ff1b38c07009a262b64900e58a109239942bfad16","urls":["bzz-raw://a67f09f1229e703574dff9103daafa494e90e22577691f180ecfc2c3f50a3ecc","dweb:/ipfs/QmVFXq8mx2PMkgMLoh3pTyQqkH9umwRUjKXtjeZscktf79"],"license":"MIT AND Apache-2.0"},"src/utils/Constants.sol":{"keccak256":"0x5f1e2913a96b7f88bc7fbd2de329465822ae0d438ff212883c6dd3bd5e9609a5","urls":["bzz-raw://51a750792520aaf10cb246112d5554bb33007edd8be97b78e90be9847d663978","dweb:/ipfs/QmbQSZGNeG9f8DNVbCEo1SGRoJU4fQJwQfUHrzQNayFWNs"],"license":"MIT AND Apache-2.0"},"src/utils/Types.sol":{"keccak256":"0xda4094eb4839087157f34750fb4d1a2d6241fbb8ee0d41fd1f2905209e6a05b0","urls":["bzz-raw://1fab0d416245579b01d908ffb607f41ace7b103c1c6a3b9d0f8b32f29ac46247","dweb:/ipfs/QmfDWFbdCEkvaKnPpZmDPtxYVBxHt2XA2zY9jon9Jm7pFf"],"license":"MIT AND Apache-2.0"}},"version":1},"id":83}