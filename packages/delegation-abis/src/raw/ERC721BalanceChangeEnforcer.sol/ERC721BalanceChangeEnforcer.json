{"abi":[{"type":"function","name":"afterAllHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"afterHook","inputs":[{"name":"_terms","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"_delegationHash","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"balanceCache","inputs":[{"name":"hashKey","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"balance","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"beforeAllHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"beforeHook","inputs":[{"name":"_terms","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"_mode","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"_delegationHash","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getHashKey","inputs":[{"name":"_caller","type":"address","internalType":"address"},{"name":"_token","type":"address","internalType":"address"},{"name":"_recipient","type":"address","internalType":"address"},{"name":"_delegationHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"pure"},{"type":"function","name":"getTermsInfo","inputs":[{"name":"_terms","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"enforceDecrease_","type":"bool","internalType":"bool"},{"name":"token_","type":"address","internalType":"address"},{"name":"recipient_","type":"address","internalType":"address"},{"name":"amount_","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"isLocked","inputs":[{"name":"hashKey","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"lock","type":"bool","internalType":"bool"}],"stateMutability":"view"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b5061097c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780635f6f02e0146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610686565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610704565b50505050505050505050565b005b6100f46100ef3660046107d1565b61018d565b6040519081526020016100bc565b6100df610110366004610704565b6101a4565b6100f4610123366004610686565b60006020819052908152604090205481565b61014861014336600461081c565b610357565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df610188366004610704565b610445565b600061019b85858585610624565b95945050505050565b85600881901b6101b581600061066f565b6102145760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102228d8d610357565b50925092505060006102363384848a610624565b60008181526001602052604090205490915060ff16156102af5760405162461bcd60e51b815260206004820152602e60248201527f45524337323142616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b606482015260840161020b565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa158015610310573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610334919061085e565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c55760405162461bcd60e51b815260206004820152603060248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b606482015260840161020b565b858560008181106103d8576103d8610877565b909101356001600160f81b031916151594506103fa905060156001878961088d565b610403916108b7565b60601c925061041660296015878961088d565b61041f916108b7565b60601c9150610431856029818961088d565b61043a916108ec565b939692955090935050565b6000806000806104558e8e610357565b9350935093509350600061046b3385858b610624565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ef919061085e565b9050851561058357600082815260208190526040902054610511908490610920565b81101561057e5760405162461bcd60e51b815260206004820152603560248201527f45524337323142616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b606482015260840161020b565b610612565b60008281526020819052604090205461059d908490610933565b8110156106125760405162461bcd60e51b815260206004820152603960248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e63726561736500000000000000606482015260840161020b565b50505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152948616818301529290941660608301526080808301919091528351808303909101815260a0909101909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561069857600080fd5b5035919050565b60008083601f8401126106b157600080fd5b50813567ffffffffffffffff8111156106c957600080fd5b6020830191508360208285010111156106e157600080fd5b9250929050565b80356001600160a01b03811681146106ff57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561072357600080fd5b8a3567ffffffffffffffff8082111561073b57600080fd5b6107478e838f0161069f565b909c509a5060208d013591508082111561076057600080fd5b61076c8e838f0161069f565b909a50985060408d0135975060608d013591508082111561078c57600080fd5b506107998d828e0161069f565b90965094505060808b013592506107b260a08c016106e8565b91506107c060c08c016106e8565b90509295989b9194979a5092959850565b600080600080608085870312156107e757600080fd5b6107f0856106e8565b93506107fe602086016106e8565b925061080c604086016106e8565b9396929550929360600135925050565b6000806020838503121561082f57600080fd5b823567ffffffffffffffff81111561084657600080fd5b6108528582860161069f565b90969095509350505050565b60006020828403121561087057600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561089d57600080fd5b838611156108aa57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108e45780818660140360031b1b83161692505b505092915050565b8035602083101561068057600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156106805761068061090a565b808201808211156106805761068061090a56fea26469706673582212201a908643c89c30b103124ac1346de2de7964be6fc4c537dea357364db407b9ad64736f6c63430008170033","sourceMap":"1395:5394:70:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780635f6f02e0146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610686565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610704565b50505050505050505050565b005b6100f46100ef3660046107d1565b61018d565b6040519081526020016100bc565b6100df610110366004610704565b6101a4565b6100f4610123366004610686565b60006020819052908152604090205481565b61014861014336600461081c565b610357565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df610188366004610704565b610445565b600061019b85858585610624565b95945050505050565b85600881901b6101b581600061066f565b6102145760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102228d8d610357565b50925092505060006102363384848a610624565b60008181526001602052604090205490915060ff16156102af5760405162461bcd60e51b815260206004820152602e60248201527f45524337323142616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b606482015260840161020b565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa158015610310573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610334919061085e565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c55760405162461bcd60e51b815260206004820152603060248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b606482015260840161020b565b858560008181106103d8576103d8610877565b909101356001600160f81b031916151594506103fa905060156001878961088d565b610403916108b7565b60601c925061041660296015878961088d565b61041f916108b7565b60601c9150610431856029818961088d565b61043a916108ec565b939692955090935050565b6000806000806104558e8e610357565b9350935093509350600061046b3385858b610624565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ef919061085e565b9050851561058357600082815260208190526040902054610511908490610920565b81101561057e5760405162461bcd60e51b815260206004820152603560248201527f45524337323142616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b606482015260840161020b565b610612565b60008281526020819052604090205461059d908490610933565b8110156106125760405162461bcd60e51b815260206004820152603960248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e63726561736500000000000000606482015260840161020b565b50505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152948616818301529290941660608301526080808301919091528351808303909101815260a0909101909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561069857600080fd5b5035919050565b60008083601f8401126106b157600080fd5b50813567ffffffffffffffff8111156106c957600080fd5b6020830191508360208285010111156106e157600080fd5b9250929050565b80356001600160a01b03811681146106ff57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561072357600080fd5b8a3567ffffffffffffffff8082111561073b57600080fd5b6107478e838f0161069f565b909c509a5060208d013591508082111561076057600080fd5b61076c8e838f0161069f565b909a50985060408d0135975060608d013591508082111561078c57600080fd5b506107998d828e0161069f565b90965094505060808b013592506107b260a08c016106e8565b91506107c060c08c016106e8565b90509295989b9194979a5092959850565b600080600080608085870312156107e757600080fd5b6107f0856106e8565b93506107fe602086016106e8565b925061080c604086016106e8565b9396929550929360600135925050565b6000806020838503121561082f57600080fd5b823567ffffffffffffffff81111561084657600080fd5b6108528582860161069f565b90969095509350505050565b60006020828403121561087057600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561089d57600080fd5b838611156108aa57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108e45780818660140360031b1b83161692505b505092915050565b8035602083101561068057600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156106805761068061090a565b808201808211156106805761068061090a56fea26469706673582212201a908643c89c30b103124ac1346de2de7964be6fc4c537dea357364db407b9ad64736f6c63430008170033","sourceMap":"1395:5394:70:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1598:53;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;364:14:111;;357:22;339:41;;327:2;312:18;1598:53:70;;;;;;;;614:126:63;;;;;;:::i;:::-;;;;;;;;;;;;;;2189:277:70;;;;;;:::i;:::-;;:::i;:::-;;;2801:25:111;;;2789:2;2774:18;2189:277:70;2655:177:111;3191:672:70;;;;;;:::i;:::-;;:::i;1529:63::-;;;;;;:::i;:::-;;;;;;;;;;;;;;;5833:462;;;;;;:::i;:::-;;:::i;:::-;;;;;;;;;3683:14:111;;3676:22;3658:41;;-1:-1:-1;;;;;3773:15:111;;;3768:2;3753:18;;3746:43;3825:15;;3820:2;3805:18;;3798:43;3872:2;3857:18;;3850:34;3645:3;3630:19;;3433:457;4447:842:70;;;;;;:::i;:::-;;:::i;2189:277::-;2372:7;2402:57;2414:7;2423:6;2431:10;2443:15;2402:11;:57::i;:::-;2395:64;2189:277;-1:-1:-1;;;;;2189:277:70:o;3191:672::-;3452:5;4155:1:16;4151:12;;;2014:29:63;4151:12:16;1954:18:63;2014:29;:::i;:::-;2006:79;;;;-1:-1:-1;;;2006:79:63;;4097:2:111;2006:79:63;;;4079:21:111;4136:2;4116:18;;;4109:30;4175:34;4155:18;;;4148:62;-1:-1:-1;;;4226:18:111;;;4219:35;4271:19;;2006:79:63;;;;;;;;;1937:159;3476:14:70::1;3492:18:::0;3515:20:::1;3528:6;;3515:12;:20::i;:::-;3473:62;;;;;;3545:16;3564:60;3576:10;3588:6;3596:10;3608:15;3564:11;:60::i;:::-;3643:18;::::0;;;:8:::1;:18;::::0;;;;;3545:79;;-1:-1:-1;3643:18:70::1;;3642:19;3634:78;;;::::0;-1:-1:-1;;;3634:78:70;;4503:2:111;3634:78:70::1;::::0;::::1;4485:21:111::0;4542:2;4522:18;;;4515:30;4581:34;4561:18;;;4554:62;-1:-1:-1;;;4632:18:111;;;4625:44;4686:19;;3634:78:70::1;4301:410:111::0;3634:78:70::1;3722:18;::::0;;;3743:4:::1;3722:18;::::0;;;;;;;:25;;-1:-1:-1;;3722:25:70::1;::::0;;::::1;::::0;;;3776:37;-1:-1:-1;;;3776:37:70;;-1:-1:-1;;;;;4880:32:111;;;3776:37:70::1;::::0;::::1;4862:51:111::0;3776:25:70;::::1;::::0;::::1;::::0;4835:18:111;;3776:37:70::1;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3823:12;:22:::0;;;::::1;::::0;;;;;;;:33;;;;-1:-1:-1;;;;;;;;;;;;;;3191:672:70:o;5833:462::-;5923:21;;;;6038:2;6021:19;;6013:80;;;;-1:-1:-1;;;6013:80:70;;5315:2:111;6013:80:70;;;5297:21:111;5354:2;5334:18;;;5327:30;5393:34;5373:18;;;5366:62;-1:-1:-1;;;5444:18:111;;;5437:46;5500:19;;6013:80:70;5113:412:111;6013:80:70;6122:6;;6129:1;6122:9;;;;;;;:::i;:::-;;;;;-1:-1:-1;;;;;;6122:9:70;:14;;;-1:-1:-1;6171:12:70;;-1:-1:-1;6180:2:70;6178:1;6171:6;;:12;:::i;:::-;6163:21;;;:::i;:::-;6155:30;;;-1:-1:-1;6224:13:70;6234:2;6231;6224:6;;:13;:::i;:::-;6216:22;;;:::i;:::-;6208:31;;;-1:-1:-1;6275:11:70;:6;6282:2;6275:6;;:11;:::i;:::-;6267:20;;;:::i;:::-;5833:462;;;;-1:-1:-1;5833:462:70;;-1:-1:-1;;5833:462:70:o;4447:842::-;4683:21;4706:14;4722:18;4742:15;4761:20;4774:6;;4761:12;:20::i;:::-;4682:99;;;;;;;;4791:16;4810:60;4822:10;4834:6;4842:10;4854:15;4810:11;:60::i;:::-;4887:18;;;;:8;:18;;;;;;4880:25;;-1:-1:-1;;4880:25:70;;;4934:37;-1:-1:-1;;;4934:37:70;;-1:-1:-1;;;;;4880:32:111;;;4934:37:70;;;4862:51:111;4887:18:70;;-1:-1:-1;4887:18:70;;4934:25;;;;;4835:18:111;;4934:37:70;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4915:56;;4985:16;4981:302;;;5037:12;:22;;;;;;;;;;;:32;;5062:7;;5037:32;:::i;:::-;5025:8;:44;;5017:110;;;;-1:-1:-1;;;5017:110:70;;7067:2:111;5017:110:70;;;7049:21:111;7106:2;7086:18;;;7079:30;7145:34;7125:18;;;7118:62;-1:-1:-1;;;7196:18:111;;;7189:51;7257:19;;5017:110:70;6865:417:111;5017:110:70;4981:302;;;5178:12;:22;;;;;;;;;;;:32;;5203:7;;5178:32;:::i;:::-;5166:8;:44;;5158:114;;;;-1:-1:-1;;;5158:114:70;;7619:2:111;5158:114:70;;;7601:21:111;7658:2;7638:18;;;7631:30;7697:34;7677:18;;;7670:62;7768:27;7748:18;;;7741:55;7813:19;;5158:114:70;7417:421:111;5158:114:70;4672:617;;;;;;4447:842;;;;;;;;;;:::o;6500:287::-;6723:56;;;-1:-1:-1;;;;;8130:15:111;;;6723:56:70;;;;8112:34:111;;;;8182:15;;;8162:18;;;8155:43;8234:15;;;;8214:18;;;8207:43;8266:18;;;;8259:34;;;;6723:56:70;;;;;;;;;;8046:19:111;;;;6723:56:70;;;6713:67;;;;;;6500:287::o;5426:120:16:-;-1:-1:-1;;;;;;5503:40:16;;;;;;;5426:120;;;;;:::o;14:180:111:-;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;-1:-1:-1;165:23:111;;14:180;-1:-1:-1;14:180:111:o;391:347::-;442:8;452:6;506:3;499:4;491:6;487:17;483:27;473:55;;524:1;521;514:12;473:55;-1:-1:-1;547:20:111;;590:18;579:30;;576:50;;;622:1;619;612:12;576:50;659:4;651:6;647:17;635:29;;711:3;704:4;695:6;687;683:19;679:30;676:39;673:59;;;728:1;725;718:12;673:59;391:347;;;;;:::o;743:173::-;811:20;;-1:-1:-1;;;;;860:31:111;;850:42;;840:70;;906:1;903;896:12;840:70;743:173;;;:::o;921:1321::-;1096:6;1104;1112;1120;1128;1136;1144;1152;1160;1168;1221:3;1209:9;1200:7;1196:23;1192:33;1189:53;;;1238:1;1235;1228:12;1189:53;1278:9;1265:23;1307:18;1348:2;1340:6;1337:14;1334:34;;;1364:1;1361;1354:12;1334:34;1403:58;1453:7;1444:6;1433:9;1429:22;1403:58;:::i;:::-;1480:8;;-1:-1:-1;1377:84:111;-1:-1:-1;1568:2:111;1553:18;;1540:32;;-1:-1:-1;1584:16:111;;;1581:36;;;1613:1;1610;1603:12;1581:36;1652:60;1704:7;1693:8;1682:9;1678:24;1652:60;:::i;:::-;1731:8;;-1:-1:-1;1626:86:111;-1:-1:-1;1813:2:111;1798:18;;1785:32;;-1:-1:-1;1870:2:111;1855:18;;1842:32;;-1:-1:-1;1886:16:111;;;1883:36;;;1915:1;1912;1905:12;1883:36;;1954:60;2006:7;1995:8;1984:9;1980:24;1954:60;:::i;:::-;2033:8;;-1:-1:-1;1928:86:111;-1:-1:-1;;2115:3:111;2100:19;;2087:33;;-1:-1:-1;2139:39:111;2173:3;2158:19;;2139:39;:::i;:::-;2129:49;;2197:39;2231:3;2220:9;2216:19;2197:39;:::i;:::-;2187:49;;921:1321;;;;;;;;;;;;;:::o;2247:403::-;2333:6;2341;2349;2357;2410:3;2398:9;2389:7;2385:23;2381:33;2378:53;;;2427:1;2424;2417:12;2378:53;2450:29;2469:9;2450:29;:::i;:::-;2440:39;;2498:38;2532:2;2521:9;2517:18;2498:38;:::i;:::-;2488:48;;2555:38;2589:2;2578:9;2574:18;2555:38;:::i;:::-;2247:403;;;;-1:-1:-1;2545:48:111;;2640:2;2625:18;2612:32;;-1:-1:-1;;2247:403:111:o;3019:409::-;3089:6;3097;3150:2;3138:9;3129:7;3125:23;3121:32;3118:52;;;3166:1;3163;3156:12;3118:52;3206:9;3193:23;3239:18;3231:6;3228:30;3225:50;;;3271:1;3268;3261:12;3225:50;3310:58;3360:7;3351:6;3340:9;3336:22;3310:58;:::i;:::-;3387:8;;3284:84;;-1:-1:-1;3019:409:111;-1:-1:-1;;;;3019:409:111:o;4924:184::-;4994:6;5047:2;5035:9;5026:7;5022:23;5018:32;5015:52;;;5063:1;5060;5053:12;5015:52;-1:-1:-1;5086:16:111;;4924:184;-1:-1:-1;4924:184:111:o;5530:127::-;5591:10;5586:3;5582:20;5579:1;5572:31;5622:4;5619:1;5612:15;5646:4;5643:1;5636:15;5662:331;5767:9;5778;5820:8;5808:10;5805:24;5802:44;;;5842:1;5839;5832:12;5802:44;5871:6;5861:8;5858:20;5855:40;;;5891:1;5888;5881:12;5855:40;-1:-1:-1;;5917:23:111;;;5962:25;;;;;-1:-1:-1;5662:331:111:o;5998:337::-;-1:-1:-1;;6119:19:111;;6206:11;;;;6237:2;6229:11;;6226:103;;;6316:2;6310;6303:3;6299:2;6295:12;6292:1;6288:20;6284:29;6280:2;6276:38;6272:47;6263:56;;6226:103;;;5998:337;;;;:::o;6340:255::-;6460:19;;6499:2;6491:11;;6488:101;;;-1:-1:-1;;6560:2:111;6556:12;;;6553:1;6549:20;6545:33;6534:45;6340:255;;;;:::o;6600:127::-;6661:10;6656:3;6652:20;6649:1;6642:31;6692:4;6689:1;6682:15;6716:4;6713:1;6706:15;6732:128;6799:9;;;6820:11;;;6817:37;;;6834:18;;:::i;7287:125::-;7352:9;;;7373:10;;;7370:36;;;7386:18;;:::i","linkReferences":{}},"methodIdentifiers":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"ed463367","afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"d3eddcc5","balanceCache(bytes32)":"b5e54492","beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"414c3e33","beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"a145832a","getHashKey(address,address,address,bytes32)":"5f6f02e0","getTermsInfo(bytes)":"b99deb0e","isLocked(bytes32)":"32a16f4e"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"afterAllHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"_delegationHash\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"afterHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hashKey\",\"type\":\"bytes32\"}],\"name\":\"balanceCache\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"beforeAllHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"_mode\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"_delegationHash\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"beforeHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_caller\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_recipient\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"_delegationHash\",\"type\":\"bytes32\"}],\"name\":\"getHashKey\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"}],\"name\":\"getTermsInfo\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"enforceDecrease_\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"token_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount_\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hashKey\",\"type\":\"bytes32\"}],\"name\":\"isLocked\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"lock\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This contract allows setting up some guardrails around balance changes. By specifying an amount and a direction (decrease/increase), one can enforce a maximum decrease or minimum increase in after-execution balance. The change can be either a decrease or increase based on the `enforceDecrease` flag.This contract has no enforcement of how the balance changes. It's meant to be used alongside additional enforcers to create granular permissions.This enforcer operates only in default execution mode.Security Notice: This enforcer tracks balance changes by comparing the recipient's balance before and after execution. Since enforcers watching the same recipient share state, a single balance modification may satisfy multiple enforcers simultaneously. Users should avoid tracking the same recipient's balance on multiple enforcers in a single delegation chain to prevent unintended behavior. Given its potential for concurrent condition fulfillment, use this enforcer at your own risk and ensure it aligns with your intended security model.\",\"kind\":\"dev\",\"methods\":{\"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"params\":{\"_delegationHash\":\"The hash of the delegation.\",\"_terms\":\"73 bytes where: - first byte: boolean indicating if the balance should decrease (true | 0x01) or increase (false | 0x00) - next 20 bytes: address of the ERC721 token - next 20 bytes: address of the recipient - next 32 bytes: balance change guardrail amount (i.e., minimum increase OR maximum decrease, depending on enforceDecrease)\"}},\"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"params\":{\"_delegationHash\":\"The hash of the delegation.\",\"_mode\":\"The execution mode. (Must be Default execType)\",\"_terms\":\"73 bytes where: - first byte: boolean indicating if the balance should decrease (true | 0x01) or increase (false | 0x00) - next 20 bytes: address of the ERC721 token - next 20 bytes: address of the recipient - next 32 bytes: balance change guardrail amount (i.e., minimum increase OR maximum decrease, depending on enforceDecrease)\"}},\"getHashKey(address,address,address,bytes32)\":{\"params\":{\"_caller\":\"Address of the sender calling the enforcer.\",\"_delegationHash\":\"The hash of the delegation.\",\"_recipient\":\"The address of the recipient of the token.\",\"_token\":\"ERC721 token being compared in the beforeHook and afterHook.\"},\"returns\":{\"_0\":\"The hash to be used as key of the mapping.\"}},\"getTermsInfo(bytes)\":{\"params\":{\"_terms\":\"Encoded data that is used during the execution hooks.\"},\"returns\":{\"amount_\":\"Balance change guardrail amount (i.e., minimum increase OR maximum decrease, depending on enforceDecrease)\",\"enforceDecrease_\":\"Boolean indicating if the balance should decrease (true | 0x01) or increase (false | 0x00).\",\"recipient_\":\"The address of the recipient of the token.\",\"token_\":\"The address of the ERC721 token.\"}}},\"title\":\"ERC721BalanceChangeEnforcer\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions after all actions in a batch redemption process have been executed.\"},\"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"This function enforces that the delegator's ERC721 token balance has changed by the expected amount.\"},\"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions before any actions in a batch redemption process begin.\"},\"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"This function caches the delegator's ERC721 token balance before the delegation is executed.\"},\"getHashKey(address,address,address,bytes32)\":{\"notice\":\"Generates the key that identifies the run. Produced by the hash of the values used.\"},\"getTermsInfo(bytes)\":{\"notice\":\"Decodes the terms used in this CaveatEnforcer.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/enforcers/ERC721BalanceChangeEnforcer.sol\":\"ERC721BalanceChangeEnforcer\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@FCL/=lib/FCL/solidity/src/\",\":@SCL/=lib/SCL/src/\",\":@account-abstraction/=lib/account-abstraction/contracts/\",\":@bytes-utils/=lib/solidity-bytes-utils/contracts/\",\":@erc7579/=lib/erc7579-implementation/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-upgradable-contracts/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@solidity-stringutils/=lib/solidity-stringutils/src/\",\":@solidity/=lib/SCL/src/\",\":FCL/=lib/FCL/solidity/src/\",\":SCL/=lib/SCL/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":erc7579-implementation/=lib/erc7579-implementation/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":sentinellist/=lib/erc7579-implementation/node_modules/@rhinestone/sentinellist/src/\",\":solady/=lib/erc7579-implementation/node_modules/solady/src/\",\":solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/\",\":solidity-stringutils/=lib/solidity-stringutils/\"]},\"sources\":{\"lib/account-abstraction/contracts/interfaces/PackedUserOperation.sol\":{\"keccak256\":\"0x1129b46381db68eddbc5cb49e50664667b66b03c480453858e7b25eabe444359\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://499a948aba60480dba6e25c763b8d918f1c246eb7a3302e04f493e080f3295be\",\"dweb:/ipfs/QmeRhhswf4NACcBKam2PyjpTP2ddSm648kah5kkQJsvwz3\"]},\"lib/erc7579-implementation/src/interfaces/IERC7579Account.sol\":{\"keccak256\":\"0x08368aba5f1bb83eb57e9f8d31a04edee4be69159b4844a6443f65100917011c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://789244f53fb8b25f4bacb8ac0b9c2f5ea2067a9c5c7bd13fd00e10618e52e2ff\",\"dweb:/ipfs/QmVSbGSyDpfL6UfyvaMBQHmV9u52wway1h3caJnvXVgkvn\"]},\"lib/erc7579-implementation/src/lib/ModeLib.sol\":{\"keccak256\":\"0x02ce0fc8805d1427841f32e2335157e3fae18e99d5c49ba46d53e12fcd1a5185\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9900d0dfb593b136a058a16f1817f60d5096c3eca6adea662381e12c241b14b4\",\"dweb:/ipfs/QmdsfLLtfzY9oEpZxk1Ve1PLuPQdphZcNK92L6mHa8n1h7\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0xe0e3a2099f2e2ce3579dd35548f613928739642058dfec95b1745f93364ce3de\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://36a3930518e5c4a3c83839aaa136b863af513e6eeee6a3654e8f910f8007f827\",\"dweb:/ipfs/QmcU1b6SYYUMiXJ6jd5HY6sgYjJLdBu4smak1X1FDgkoaA\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0xc859863e3bda7ec3cddf6dafe2ffe91bcbe648d1395b856b839c32ee9617c44c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a9d5417888b873cf2225ed5d50b2a67be97c1504134a2a580512168d587ad82e\",\"dweb:/ipfs/QmNr5fTb2heFW658NZn7dDnofZgFvQTnNxKRJ3wdnR1skX\"]},\"src/enforcers/CaveatEnforcer.sol\":{\"keccak256\":\"0xe6e44a3dfcb667fba89d7dc73ba06327add01a9ef4ecd11f3627d97e337041d5\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://79988dc7b56022300549c6ede1c7075fdcadb308191e0ece4f85f94f69036bb5\",\"dweb:/ipfs/QmRG1q4NFfo6RpoVWMdK3679eLg2fUru4dUESwCcmxzvoz\"]},\"src/enforcers/ERC721BalanceChangeEnforcer.sol\":{\"keccak256\":\"0x21761f6b0ecc6a6a6e83bab452adf405413445134544a9e6cc4b2058c1cac645\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://b27b87b2b32dd5f1732106a67d370e7b1bc730dac9384d11dac72cdd4e5a8e20\",\"dweb:/ipfs/Qmd4YLmH3Uiw8fESHim1yhsnC54DqgE3QUh9LuVD4YN1oP\"]},\"src/interfaces/ICaveatEnforcer.sol\":{\"keccak256\":\"0x61c2d69cb8cc4b04d5ce786ff1b38c07009a262b64900e58a109239942bfad16\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://a67f09f1229e703574dff9103daafa494e90e22577691f180ecfc2c3f50a3ecc\",\"dweb:/ipfs/QmVFXq8mx2PMkgMLoh3pTyQqkH9umwRUjKXtjeZscktf79\"]},\"src/utils/Constants.sol\":{\"keccak256\":\"0x5f1e2913a96b7f88bc7fbd2de329465822ae0d438ff212883c6dd3bd5e9609a5\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://51a750792520aaf10cb246112d5554bb33007edd8be97b78e90be9847d663978\",\"dweb:/ipfs/QmbQSZGNeG9f8DNVbCEo1SGRoJU4fQJwQfUHrzQNayFWNs\"]},\"src/utils/Types.sol\":{\"keccak256\":\"0xda4094eb4839087157f34750fb4d1a2d6241fbb8ee0d41fd1f2905209e6a05b0\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://1fab0d416245579b01d908ffb607f41ace7b103c1c6a3b9d0f8b32f29ac46247\",\"dweb:/ipfs/QmfDWFbdCEkvaKnPpZmDPtxYVBxHt2XA2zY9jon9Jm7pFf\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"afterAllHook"},{"inputs":[{"internalType":"bytes","name":"_terms","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"_delegationHash","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"afterHook"},{"inputs":[{"internalType":"bytes32","name":"hashKey","type":"bytes32"}],"stateMutability":"view","type":"function","name":"balanceCache","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}]},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"beforeAllHook"},{"inputs":[{"internalType":"bytes","name":"_terms","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"_mode","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"_delegationHash","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"beforeHook"},{"inputs":[{"internalType":"address","name":"_caller","type":"address"},{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_recipient","type":"address"},{"internalType":"bytes32","name":"_delegationHash","type":"bytes32"}],"stateMutability":"pure","type":"function","name":"getHashKey","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"bytes","name":"_terms","type":"bytes"}],"stateMutability":"pure","type":"function","name":"getTermsInfo","outputs":[{"internalType":"bool","name":"enforceDecrease_","type":"bool"},{"internalType":"address","name":"token_","type":"address"},{"internalType":"address","name":"recipient_","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"hashKey","type":"bytes32"}],"stateMutability":"view","type":"function","name":"isLocked","outputs":[{"internalType":"bool","name":"lock","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"params":{"_delegationHash":"The hash of the delegation.","_terms":"73 bytes where: - first byte: boolean indicating if the balance should decrease (true | 0x01) or increase (false | 0x00) - next 20 bytes: address of the ERC721 token - next 20 bytes: address of the recipient - next 32 bytes: balance change guardrail amount (i.e., minimum increase OR maximum decrease, depending on enforceDecrease)"}},"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"params":{"_delegationHash":"The hash of the delegation.","_mode":"The execution mode. (Must be Default execType)","_terms":"73 bytes where: - first byte: boolean indicating if the balance should decrease (true | 0x01) or increase (false | 0x00) - next 20 bytes: address of the ERC721 token - next 20 bytes: address of the recipient - next 32 bytes: balance change guardrail amount (i.e., minimum increase OR maximum decrease, depending on enforceDecrease)"}},"getHashKey(address,address,address,bytes32)":{"params":{"_caller":"Address of the sender calling the enforcer.","_delegationHash":"The hash of the delegation.","_recipient":"The address of the recipient of the token.","_token":"ERC721 token being compared in the beforeHook and afterHook."},"returns":{"_0":"The hash to be used as key of the mapping."}},"getTermsInfo(bytes)":{"params":{"_terms":"Encoded data that is used during the execution hooks."},"returns":{"amount_":"Balance change guardrail amount (i.e., minimum increase OR maximum decrease, depending on enforceDecrease)","enforceDecrease_":"Boolean indicating if the balance should decrease (true | 0x01) or increase (false | 0x00).","recipient_":"The address of the recipient of the token.","token_":"The address of the ERC721 token."}}},"version":1},"userdoc":{"kind":"user","methods":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions after all actions in a batch redemption process have been executed."},"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"This function enforces that the delegator's ERC721 token balance has changed by the expected amount."},"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions before any actions in a batch redemption process begin."},"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"This function caches the delegator's ERC721 token balance before the delegation is executed."},"getHashKey(address,address,address,bytes32)":{"notice":"Generates the key that identifies the run. Produced by the hash of the values used."},"getTermsInfo(bytes)":{"notice":"Decodes the terms used in this CaveatEnforcer."}},"version":1}},"settings":{"remappings":["@FCL/=lib/FCL/solidity/src/","@SCL/=lib/SCL/src/","@account-abstraction/=lib/account-abstraction/contracts/","@bytes-utils/=lib/solidity-bytes-utils/contracts/","@erc7579/=lib/erc7579-implementation/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-upgradable-contracts/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@solidity-stringutils/=lib/solidity-stringutils/src/","@solidity/=lib/SCL/src/","FCL/=lib/FCL/solidity/src/","SCL/=lib/SCL/","account-abstraction/=lib/account-abstraction/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","erc7579-implementation/=lib/erc7579-implementation/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","sentinellist/=lib/erc7579-implementation/node_modules/@rhinestone/sentinellist/src/","solady/=lib/erc7579-implementation/node_modules/solady/src/","solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/","solidity-stringutils/=lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/enforcers/ERC721BalanceChangeEnforcer.sol":"ERC721BalanceChangeEnforcer"},"evmVersion":"london","libraries":{}},"sources":{"lib/account-abstraction/contracts/interfaces/PackedUserOperation.sol":{"keccak256":"0x1129b46381db68eddbc5cb49e50664667b66b03c480453858e7b25eabe444359","urls":["bzz-raw://499a948aba60480dba6e25c763b8d918f1c246eb7a3302e04f493e080f3295be","dweb:/ipfs/QmeRhhswf4NACcBKam2PyjpTP2ddSm648kah5kkQJsvwz3"],"license":"GPL-3.0"},"lib/erc7579-implementation/src/interfaces/IERC7579Account.sol":{"keccak256":"0x08368aba5f1bb83eb57e9f8d31a04edee4be69159b4844a6443f65100917011c","urls":["bzz-raw://789244f53fb8b25f4bacb8ac0b9c2f5ea2067a9c5c7bd13fd00e10618e52e2ff","dweb:/ipfs/QmVSbGSyDpfL6UfyvaMBQHmV9u52wway1h3caJnvXVgkvn"],"license":"MIT"},"lib/erc7579-implementation/src/lib/ModeLib.sol":{"keccak256":"0x02ce0fc8805d1427841f32e2335157e3fae18e99d5c49ba46d53e12fcd1a5185","urls":["bzz-raw://9900d0dfb593b136a058a16f1817f60d5096c3eca6adea662381e12c241b14b4","dweb:/ipfs/QmdsfLLtfzY9oEpZxk1Ve1PLuPQdphZcNK92L6mHa8n1h7"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0xe0e3a2099f2e2ce3579dd35548f613928739642058dfec95b1745f93364ce3de","urls":["bzz-raw://36a3930518e5c4a3c83839aaa136b863af513e6eeee6a3654e8f910f8007f827","dweb:/ipfs/QmcU1b6SYYUMiXJ6jd5HY6sgYjJLdBu4smak1X1FDgkoaA"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0xc859863e3bda7ec3cddf6dafe2ffe91bcbe648d1395b856b839c32ee9617c44c","urls":["bzz-raw://a9d5417888b873cf2225ed5d50b2a67be97c1504134a2a580512168d587ad82e","dweb:/ipfs/QmNr5fTb2heFW658NZn7dDnofZgFvQTnNxKRJ3wdnR1skX"],"license":"MIT"},"src/enforcers/CaveatEnforcer.sol":{"keccak256":"0xe6e44a3dfcb667fba89d7dc73ba06327add01a9ef4ecd11f3627d97e337041d5","urls":["bzz-raw://79988dc7b56022300549c6ede1c7075fdcadb308191e0ece4f85f94f69036bb5","dweb:/ipfs/QmRG1q4NFfo6RpoVWMdK3679eLg2fUru4dUESwCcmxzvoz"],"license":"MIT AND Apache-2.0"},"src/enforcers/ERC721BalanceChangeEnforcer.sol":{"keccak256":"0x21761f6b0ecc6a6a6e83bab452adf405413445134544a9e6cc4b2058c1cac645","urls":["bzz-raw://b27b87b2b32dd5f1732106a67d370e7b1bc730dac9384d11dac72cdd4e5a8e20","dweb:/ipfs/Qmd4YLmH3Uiw8fESHim1yhsnC54DqgE3QUh9LuVD4YN1oP"],"license":"MIT AND Apache-2.0"},"src/interfaces/ICaveatEnforcer.sol":{"keccak256":"0x61c2d69cb8cc4b04d5ce786ff1b38c07009a262b64900e58a109239942bfad16","urls":["bzz-raw://a67f09f1229e703574dff9103daafa494e90e22577691f180ecfc2c3f50a3ecc","dweb:/ipfs/QmVFXq8mx2PMkgMLoh3pTyQqkH9umwRUjKXtjeZscktf79"],"license":"MIT AND Apache-2.0"},"src/utils/Constants.sol":{"keccak256":"0x5f1e2913a96b7f88bc7fbd2de329465822ae0d438ff212883c6dd3bd5e9609a5","urls":["bzz-raw://51a750792520aaf10cb246112d5554bb33007edd8be97b78e90be9847d663978","dweb:/ipfs/QmbQSZGNeG9f8DNVbCEo1SGRoJU4fQJwQfUHrzQNayFWNs"],"license":"MIT AND Apache-2.0"},"src/utils/Types.sol":{"keccak256":"0xda4094eb4839087157f34750fb4d1a2d6241fbb8ee0d41fd1f2905209e6a05b0","urls":["bzz-raw://1fab0d416245579b01d908ffb607f41ace7b103c1c6a3b9d0f8b32f29ac46247","dweb:/ipfs/QmfDWFbdCEkvaKnPpZmDPtxYVBxHt2XA2zY9jon9Jm7pFf"],"license":"MIT AND Apache-2.0"}},"version":1},"id":70}