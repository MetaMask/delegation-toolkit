{"abi":[{"type":"function","name":"afterAllHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"afterHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"beforeAllHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"beforeHook","inputs":[{"name":"_terms","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"_mode","type":"bytes32","internalType":"ModeCode"},{"name":"_executionCallData","type":"bytes","internalType":"bytes"},{"name":"_delegationHash","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"_redeemer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAvailableAmount","inputs":[{"name":"_delegationHash","type":"bytes32","internalType":"bytes32"},{"name":"_delegationManager","type":"address","internalType":"address"},{"name":"_terms","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"availableAmount_","type":"uint256","internalType":"uint256"},{"name":"isNewPeriod_","type":"bool","internalType":"bool"},{"name":"currentPeriod_","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTermsInfo","inputs":[{"name":"_terms","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"periodAmount_","type":"uint256","internalType":"uint256"},{"name":"periodDuration_","type":"uint256","internalType":"uint256"},{"name":"startDate_","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"periodicAllowances","inputs":[{"name":"delegationManager","type":"address","internalType":"address"},{"name":"delegationHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"periodAmount","type":"uint256","internalType":"uint256"},{"name":"periodDuration","type":"uint256","internalType":"uint256"},{"name":"startDate","type":"uint256","internalType":"uint256"},{"name":"lastTransferPeriod","type":"uint256","internalType":"uint256"},{"name":"transferredInCurrentPeriod","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"event","name":"TransferredInPeriod","inputs":[{"name":"sender","type":"address","indexed":true,"internalType":"address"},{"name":"redeemer","type":"address","indexed":true,"internalType":"address"},{"name":"delegationHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"periodAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"periodDuration","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"startDate","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"transferredInCurrentPeriod","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"transferTimestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561001057600080fd5b50610b57806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610893565b50505050505050505050565b005b6100b16100ac366004610960565b61017f565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df3660046109ba565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610893565b610255565b61016461015f3660046109e4565b61033a565b604080519384526020840192909252908201526060016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a0810183528154815260018201549381019390935260028101549183018290526003810154606084015260040154608083015282918291156101f4576101e8816103f0565b9350935093505061024b565b6000806000610203898961033a565b92509250925060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061023f816103f0565b97509750975050505050505b9450945094915050565b85610261816000610484565b6102b25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102c3816000610484565b61031d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102a9565b5061032c8c8c8989898861049b565b505050505050505050505050565b600080806060841461039b5760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152750e474d2dcecc2d8d2c85ae8cae4dae65ad8cadccee8d60531b60648201526084016102a9565b6103a9602060008688610a26565b6103b291610a50565b92506103c2604060208688610a26565b6103cb91610a50565b91506103db606060408688610a26565b6103e491610a50565b60001c90509250925092565b6000806000836040015142101561040f5750600091508190508061047d565b602084015160408501516104239042610a84565b61042d9190610a97565b610438906001610ab9565b905080846060015114159150600082610455578460800151610458565b60005b90508085600001511161046c576000610479565b8451610479908290610a84565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60006104a785856107dd565b505091505060008060006104bb8a8a61033a565b336000908152602081815260408083208c84529091528120600281015494975092955090935090919003610684576000821161054d5760405162461bcd60e51b81526020600482015260396024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d73746172742d646174650000000000000060648201526084016102a9565b600084116105b15760405162461bcd60e51b815260206004820152603c6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d616d6f756e740000000060648201526084016102a9565b600083116106155760405162461bcd60e51b815260206004820152603e6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d6475726174696f6e000060648201526084016102a9565b814210156106725760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152751c8e9d1c985b9cd9995c8b5b9bdd0b5cdd185c9d195960521b60648201526084016102a9565b83815560018101839055600281018290555b60008060006106cf846040518060a0016040529081600082015481526020016001820154815260200160028201548152602001600382015481526020016004820154815250506103f0565b925092509250828811156107395760405162461bcd60e51b815260206004820152603a6024820152600080516020610b0283398151915260448201527f723a7472616e736665722d616d6f756e742d657863656564656400000000000060648201526084016102a9565b811561074e5760038401819055600060048501555b878460040160008282546107629190610ab9565b909155505060028401546004850154604080518a8152602081018a90529081019290925260608201524260808201528a906001600160a01b038b169033907f22e1bbd8bc0380d336958afc37cd8cb128d6c43891ed276162c30e8df467734d9060a00160405180910390a45050505050505050505050505050565b60008036816107ef6014828789610a26565b6107f891610acc565b60601c935061080b603460148789610a26565b61081491610a50565b92506108238560348189610a26565b949793965094505050565b60008083601f84011261084057600080fd5b50813567ffffffffffffffff81111561085857600080fd5b60208301915083602082850101111561087057600080fd5b9250929050565b80356001600160a01b038116811461088e57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108b257600080fd5b8a3567ffffffffffffffff808211156108ca57600080fd5b6108d68e838f0161082e565b909c509a5060208d01359150808211156108ef57600080fd5b6108fb8e838f0161082e565b909a50985060408d0135975060608d013591508082111561091b57600080fd5b506109288d828e0161082e565b90965094505060808b0135925061094160a08c01610877565b915061094f60c08c01610877565b90509295989b9194979a5092959850565b6000806000806060858703121561097657600080fd5b8435935061098660208601610877565b9250604085013567ffffffffffffffff8111156109a257600080fd5b6109ae8782880161082e565b95989497509550505050565b600080604083850312156109cd57600080fd5b6109d683610877565b946020939093013593505050565b600080602083850312156109f757600080fd5b823567ffffffffffffffff811115610a0e57600080fd5b610a1a8582860161082e565b90969095509350505050565b60008085851115610a3657600080fd5b83861115610a4357600080fd5b5050820193919092039150565b8035602083101561049557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561049557610495610a6e565b600082610ab457634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561049557610495610a6e565b6bffffffffffffffffffffffff198135818116916014851015610af95780818660140360031b1b83161692505b50509291505056fe4e6174697665546f6b656e506572696f645472616e73666572456e666f726365a2646970667358221220ddbfb33bfc3119eae666e9c14c2e492d38eed690114f0ed176d6eb49d0bc21a364736f6c63430008170033","sourceMap":"878:10390:82:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610893565b50505050505050505050565b005b6100b16100ac366004610960565b61017f565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df3660046109ba565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610893565b610255565b61016461015f3660046109e4565b61033a565b604080519384526020840192909252908201526060016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a0810183528154815260018201549381019390935260028101549183018290526003810154606084015260040154608083015282918291156101f4576101e8816103f0565b9350935093505061024b565b6000806000610203898961033a565b92509250925060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061023f816103f0565b97509750975050505050505b9450945094915050565b85610261816000610484565b6102b25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102c3816000610484565b61031d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102a9565b5061032c8c8c8989898861049b565b505050505050505050505050565b600080806060841461039b5760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152750e474d2dcecc2d8d2c85ae8cae4dae65ad8cadccee8d60531b60648201526084016102a9565b6103a9602060008688610a26565b6103b291610a50565b92506103c2604060208688610a26565b6103cb91610a50565b91506103db606060408688610a26565b6103e491610a50565b60001c90509250925092565b6000806000836040015142101561040f5750600091508190508061047d565b602084015160408501516104239042610a84565b61042d9190610a97565b610438906001610ab9565b905080846060015114159150600082610455578460800151610458565b60005b90508085600001511161046c576000610479565b8451610479908290610a84565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60006104a785856107dd565b505091505060008060006104bb8a8a61033a565b336000908152602081815260408083208c84529091528120600281015494975092955090935090919003610684576000821161054d5760405162461bcd60e51b81526020600482015260396024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d73746172742d646174650000000000000060648201526084016102a9565b600084116105b15760405162461bcd60e51b815260206004820152603c6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d616d6f756e740000000060648201526084016102a9565b600083116106155760405162461bcd60e51b815260206004820152603e6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d6475726174696f6e000060648201526084016102a9565b814210156106725760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152751c8e9d1c985b9cd9995c8b5b9bdd0b5cdd185c9d195960521b60648201526084016102a9565b83815560018101839055600281018290555b60008060006106cf846040518060a0016040529081600082015481526020016001820154815260200160028201548152602001600382015481526020016004820154815250506103f0565b925092509250828811156107395760405162461bcd60e51b815260206004820152603a6024820152600080516020610b0283398151915260448201527f723a7472616e736665722d616d6f756e742d657863656564656400000000000060648201526084016102a9565b811561074e5760038401819055600060048501555b878460040160008282546107629190610ab9565b909155505060028401546004850154604080518a8152602081018a90529081019290925260608201524260808201528a906001600160a01b038b169033907f22e1bbd8bc0380d336958afc37cd8cb128d6c43891ed276162c30e8df467734d9060a00160405180910390a45050505050505050505050505050565b60008036816107ef6014828789610a26565b6107f891610acc565b60601c935061080b603460148789610a26565b61081491610a50565b92506108238560348189610a26565b949793965094505050565b60008083601f84011261084057600080fd5b50813567ffffffffffffffff81111561085857600080fd5b60208301915083602082850101111561087057600080fd5b9250929050565b80356001600160a01b038116811461088e57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108b257600080fd5b8a3567ffffffffffffffff808211156108ca57600080fd5b6108d68e838f0161082e565b909c509a5060208d01359150808211156108ef57600080fd5b6108fb8e838f0161082e565b909a50985060408d0135975060608d013591508082111561091b57600080fd5b506109288d828e0161082e565b90965094505060808b0135925061094160a08c01610877565b915061094f60c08c01610877565b90509295989b9194979a5092959850565b6000806000806060858703121561097657600080fd5b8435935061098660208601610877565b9250604085013567ffffffffffffffff8111156109a257600080fd5b6109ae8782880161082e565b95989497509550505050565b600080604083850312156109cd57600080fd5b6109d683610877565b946020939093013593505050565b600080602083850312156109f757600080fd5b823567ffffffffffffffff811115610a0e57600080fd5b610a1a8582860161082e565b90969095509350505050565b60008085851115610a3657600080fd5b83861115610a4357600080fd5b5050820193919092039150565b8035602083101561049557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561049557610495610a6e565b600082610ab457634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561049557610495610a6e565b6bffffffffffffffffffffffff198135818116916014851015610af95780818660140360031b1b83161692505b50509291505056fe4e6174697665546f6b656e506572696f645472616e73666572456e666f726365a2646970667358221220ddbfb33bfc3119eae666e9c14c2e492d38eed690114f0ed176d6eb49d0bc21a364736f6c63430008170033","sourceMap":"878:10390:82:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;614:126:63;;;;;;:::i;:::-;;;;;;;;;;;;;;3613:950:82;;;;;;:::i;:::-;;:::i;:::-;;;;2622:25:111;;;2690:14;;2683:22;2678:2;2663:18;;2656:50;2722:18;;;2715:34;2610:2;2595:18;3613:950:82;;;;;;;;1618:116;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3278:25:111;;;3334:2;3319:18;;3312:34;;;;3362:18;;;3355:34;;;;3420:2;3405:18;;3398:34;3463:3;3448:19;;3441:35;3265:3;3250:19;1618:116:82;3019:463:111;5418:439:82;;;;;;:::i;:::-;;:::i;6395:434::-;;;;;;:::i;:::-;;:::i;:::-;;;;4103:25:111;;;4159:2;4144:18;;4137:34;;;;4187:18;;;4180:34;4091:2;4076:18;6395:434:82;3901:319:111;3613:950:82;-1:-1:-1;;;;;3921:38:82;;3794:24;3921:38;;;;;;;;;;;:55;;;;;;;;3877:99;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3794:24;;;;3990:31;3986:81;;4030:37;4050:16;4030:19;:37::i;:::-;4023:44;;;;;;;;;3986:81;4142:21;4165:23;4190:18;4212:20;4225:6;;4212:12;:20::i;:::-;4141:91;;;;;;4242:35;4280:228;;;;;;;;4326:13;4280:228;;;;4369:15;4280:228;;;;4409:10;4280:228;;;;4453:1;4280:228;;;;4496:1;4280:228;;;4242:266;;4525:31;4545:10;4525:19;:31::i;:::-;4518:38;;;;;;;;;;;3613:950;;;;;;;;;:::o;5418:439::-;5706:5;1402:45:63;5706:5:82;2789:4:16;1402:45:63;:::i;:::-;1394:90;;;;-1:-1:-1;;;1394:90:63;;4427:2:111;1394:90:63;;;4409:21:111;;;4446:18;;;4439:30;4505:34;4485:18;;;4478:62;4557:18;;1394:90:63;;;;;;;;;5746:5:82;4155:1:16;4151:12;;;2014:29:63::1;4151:12:16::0;1954:18:63::1;2014:29;:::i;:::-;2006:79;;;::::0;-1:-1:-1;;;2006:79:63;;4788:2:111;2006:79:63::1;::::0;::::1;4770:21:111::0;4827:2;4807:18;;;4800:30;4866:34;4846:18;;;4839:62;-1:-1:-1;;;4917:18:111;;;4910:35;4962:19;;2006:79:63::1;4586:401:111::0;2006:79:63::1;1937:159;5767:83:82::2;5795:6;;5803:18;;5823:15;5840:9;5767:27;:83::i;:::-;1504:1:63::1;5418:439:82::0;;;;;;;;;;;:::o;6395:434::-;6485:21;;;6592:2;6575:19;;6567:86;;;;-1:-1:-1;;;6567:86:82;;5194:2:111;6567:86:82;;;5176:21:111;5233:2;5213:18;;;5206:30;-1:-1:-1;;;;;;;;;;;5252:18:111;;;5245:62;-1:-1:-1;;;5323:18:111;;;5316:52;5385:19;;6567:86:82;4992:418:111;6567:86:82;6695:12;6704:2;6702:1;6695:6;;:12;:::i;:::-;6687:21;;;:::i;:::-;6679:30;-1:-1:-1;6753:13:82;6763:2;6760;6753:6;;:13;:::i;:::-;6745:22;;;:::i;:::-;6737:31;-1:-1:-1;6807:13:82;6817:2;6814;6807:6;;:13;:::i;:::-;6799:22;;;:::i;:::-;6791:31;;6778:44;;6395:434;;;;;:::o;10630:636::-;10743:24;10769:17;10788:22;10848:10;:20;;;10830:15;:38;10826:64;;;-1:-1:-1;10878:1:82;;-1:-1:-1;10878:1:82;;-1:-1:-1;10878:1:82;10870:20;;10826:64;10960:25;;;;10936:20;;;;10918:38;;:15;:38;:::i;:::-;10917:68;;;;:::i;:::-;:72;;10988:1;10917:72;:::i;:::-;10900:89;;11047:14;11014:10;:29;;;:47;;10999:62;;11071:19;11093:12;:56;;11112:10;:37;;;11093:56;;;11108:1;11093:56;11071:78;;11204:11;11178:10;:23;;;:37;:81;;11258:1;11178:81;;;11218:23;;:37;;11244:11;;11218:37;:::i;:::-;11159:100;;10816:450;10630:636;;;;;;:::o;5304:120:16:-;-1:-1:-1;;;;;;5381:40:16;;;;;;;5304:120;;;;;:::o;7637:2102:82:-;7847:14;7866:33;:18;;:31;:33::i;:::-;7844:55;;;;;7911:21;7934:23;7959:18;7981:20;7994:6;;7981:12;:20::i;:::-;8070:10;8012:36;8051:30;;;;;;;;;;;:47;;;;;;;;8163:20;;;;7910:91;;-1:-1:-1;7910:91:82;;-1:-1:-1;7910:91:82;;-1:-1:-1;8051:47:82;;8163:25;;8159:707;;8256:1;8243:10;:14;8235:84;;;;-1:-1:-1;;;8235:84:82;;6830:2:111;8235:84:82;;;6812:21:111;6869:2;6849:18;;;6842:30;-1:-1:-1;;;;;;;;;;;6888:18:111;;;6881:62;6979:27;6959:18;;;6952:55;7024:19;;8235:84:82;6628:421:111;8235:84:82;8357:1;8341:13;:17;8333:90;;;;-1:-1:-1;;;8333:90:82;;7256:2:111;8333:90:82;;;7238:21:111;7295:2;7275:18;;;7268:30;-1:-1:-1;;;;;;;;;;;7314:18:111;;;7307:62;7405:30;7385:18;;;7378:58;7453:19;;8333:90:82;7054:424:111;8333:90:82;8463:1;8445:15;:19;8437:94;;;;-1:-1:-1;;;8437:94:82;;7685:2:111;8437:94:82;;;7667:21:111;7724:2;7704:18;;;7697:30;-1:-1:-1;;;;;;;;;;;7743:18:111;;;7736:62;7834:32;7814:18;;;7807:60;7884:19;;8437:94:82;7483:426:111;8437:94:82;8628:10;8609:15;:29;;8601:96;;;;-1:-1:-1;;;8601:96:82;;8116:2:111;8601:96:82;;;8098:21:111;8155:2;8135:18;;;8128:30;-1:-1:-1;;;;;;;;;;;8174:18:111;;;8167:62;-1:-1:-1;;;8245:18:111;;;8238:52;8307:19;;8601:96:82;7914:418:111;8601:96:82;8712:39;;;8765:25;;;:43;;;8822:20;;;:33;;;8159:707;8947:18;8967:17;8986:22;9012:31;9032:10;9012:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:19;:31::i;:::-;8946:97;;;;;;9072:10;9062:6;:20;;9054:91;;;;-1:-1:-1;;;9054:91:82;;8539:2:111;9054:91:82;;;8521:21:111;8578:2;8558:18;;;8551:30;-1:-1:-1;;;;;;;;;;;8597:18:111;;;8590:62;8688:28;8668:18;;;8661:56;8734:19;;9054:91:82;8337:422:111;9054:91:82;9245:12;9241:144;;;9273:29;;;:46;;;9373:1;9333:37;;;:41;9241:144;9435:6;9394:10;:37;;;:47;;;;;;;:::i;:::-;;;;-1:-1:-1;;9622:20:82;;;;9656:37;;;;9457:275;;;3278:25:111;;;3334:2;3319:18;;3312:34;;;3362:18;;;3355:34;;;;3420:2;3405:18;;3398:34;9707:15:82;3463:3:111;3448:19;;3441:35;9537:15:82;;-1:-1:-1;;;;;9457:275:82;;;9490:10;;9457:275;;3265:3:111;3250:19;9457:275:82;;;;;;;7834:1905;;;;;;;;7637:2102;;;;;;:::o;2513:333:15:-;2616:14;;2647:23;2616:14;2711:23;2731:2;2616:14;2711:17;;:23;:::i;:::-;2703:32;;;:::i;:::-;2695:41;;;-1:-1:-1;2770:24:15;2791:2;2788;2770:17;;:24;:::i;:::-;2762:33;;;:::i;:::-;2754:42;-1:-1:-1;2817:22:15;:17;2835:2;2817:17;;:22;:::i;:::-;2513:333;;;;-1:-1:-1;2806:33:15;-1:-1:-1;;;2513:333:15:o;14:347:111:-;65:8;75:6;129:3;122:4;114:6;110:17;106:27;96:55;;147:1;144;137:12;96:55;-1:-1:-1;170:20:111;;213:18;202:30;;199:50;;;245:1;242;235:12;199:50;282:4;274:6;270:17;258:29;;334:3;327:4;318:6;310;306:19;302:30;299:39;296:59;;;351:1;348;341:12;296:59;14:347;;;;;:::o;366:173::-;434:20;;-1:-1:-1;;;;;483:31:111;;473:42;;463:70;;529:1;526;519:12;463:70;366:173;;;:::o;544:1321::-;719:6;727;735;743;751;759;767;775;783;791;844:3;832:9;823:7;819:23;815:33;812:53;;;861:1;858;851:12;812:53;901:9;888:23;930:18;971:2;963:6;960:14;957:34;;;987:1;984;977:12;957:34;1026:58;1076:7;1067:6;1056:9;1052:22;1026:58;:::i;:::-;1103:8;;-1:-1:-1;1000:84:111;-1:-1:-1;1191:2:111;1176:18;;1163:32;;-1:-1:-1;1207:16:111;;;1204:36;;;1236:1;1233;1226:12;1204:36;1275:60;1327:7;1316:8;1305:9;1301:24;1275:60;:::i;:::-;1354:8;;-1:-1:-1;1249:86:111;-1:-1:-1;1436:2:111;1421:18;;1408:32;;-1:-1:-1;1493:2:111;1478:18;;1465:32;;-1:-1:-1;1509:16:111;;;1506:36;;;1538:1;1535;1528:12;1506:36;;1577:60;1629:7;1618:8;1607:9;1603:24;1577:60;:::i;:::-;1656:8;;-1:-1:-1;1551:86:111;-1:-1:-1;;1738:3:111;1723:19;;1710:33;;-1:-1:-1;1762:39:111;1796:3;1781:19;;1762:39;:::i;:::-;1752:49;;1820:39;1854:3;1843:9;1839:19;1820:39;:::i;:::-;1810:49;;544:1321;;;;;;;;;;;;;:::o;1870:551::-;1958:6;1966;1974;1982;2035:2;2023:9;2014:7;2010:23;2006:32;2003:52;;;2051:1;2048;2041:12;2003:52;2087:9;2074:23;2064:33;;2116:38;2150:2;2139:9;2135:18;2116:38;:::i;:::-;2106:48;;2205:2;2194:9;2190:18;2177:32;2232:18;2224:6;2221:30;2218:50;;;2264:1;2261;2254:12;2218:50;2303:58;2353:7;2344:6;2333:9;2329:22;2303:58;:::i;:::-;1870:551;;;;-1:-1:-1;2380:8:111;-1:-1:-1;;;;1870:551:111:o;2760:254::-;2828:6;2836;2889:2;2877:9;2868:7;2864:23;2860:32;2857:52;;;2905:1;2902;2895:12;2857:52;2928:29;2947:9;2928:29;:::i;:::-;2918:39;3004:2;2989:18;;;;2976:32;;-1:-1:-1;;;2760:254:111:o;3487:409::-;3557:6;3565;3618:2;3606:9;3597:7;3593:23;3589:32;3586:52;;;3634:1;3631;3624:12;3586:52;3674:9;3661:23;3707:18;3699:6;3696:30;3693:50;;;3739:1;3736;3729:12;3693:50;3778:58;3828:7;3819:6;3808:9;3804:22;3778:58;:::i;:::-;3855:8;;3752:84;;-1:-1:-1;3487:409:111;-1:-1:-1;;;;3487:409:111:o;5415:331::-;5520:9;5531;5573:8;5561:10;5558:24;5555:44;;;5595:1;5592;5585:12;5555:44;5624:6;5614:8;5611:20;5608:40;;;5644:1;5641;5634:12;5608:40;-1:-1:-1;;5670:23:111;;;5715:25;;;;;-1:-1:-1;5415:331:111:o;5751:255::-;5871:19;;5910:2;5902:11;;5899:101;;;-1:-1:-1;;5971:2:111;5967:12;;;5964:1;5960:20;5956:33;5945:45;5751:255;;;;:::o;6011:127::-;6072:10;6067:3;6063:20;6060:1;6053:31;6103:4;6100:1;6093:15;6127:4;6124:1;6117:15;6143:128;6210:9;;;6231:11;;;6228:37;;;6245:18;;:::i;6276:217::-;6316:1;6342;6332:132;;6386:10;6381:3;6377:20;6374:1;6367:31;6421:4;6418:1;6411:15;6449:4;6446:1;6439:15;6332:132;-1:-1:-1;6478:9:111;;6276:217::o;6498:125::-;6563:9;;;6584:10;;;6581:36;;;6597:18;;:::i;8764:337::-;-1:-1:-1;;8885:19:111;;8972:11;;;;9003:2;8995:11;;8992:103;;;9082:2;9076;9069:3;9065:2;9061:12;9058:1;9054:20;9050:29;9046:2;9042:38;9038:47;9029:56;;8992:103;;;8764:337;;;;:::o","linkReferences":{}},"methodIdentifiers":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"ed463367","afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"d3eddcc5","beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"414c3e33","beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"a145832a","getAvailableAmount(bytes32,address,bytes)":"6a9843f6","getTermsInfo(bytes)":"b99deb0e","periodicAllowances(address,bytes32)":"7b91dc78"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"redeemer\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"delegationHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"periodAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"periodDuration\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"startDate\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"transferredInCurrentPeriod\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"transferTimestamp\",\"type\":\"uint256\"}],\"name\":\"TransferredInPeriod\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"afterAllHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"afterHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"beforeAllHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"_mode\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"_executionCallData\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"_delegationHash\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_redeemer\",\"type\":\"address\"}],\"name\":\"beforeHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"_delegationHash\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"_delegationManager\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"}],\"name\":\"getAvailableAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"availableAmount_\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isNewPeriod_\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"currentPeriod_\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"}],\"name\":\"getTermsInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"periodAmount_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"periodDuration_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startDate_\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"delegationManager\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"delegationHash\",\"type\":\"bytes32\"}],\"name\":\"periodicAllowances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"periodAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"periodDuration\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startDate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastTransferPeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"transferredInCurrentPeriod\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This contract implements a mechanism by which a user may transfer up to a fixed amount of ETH (the period amount)      during a given time period. The transferable amount resets at the beginning of each period and any unused ETH is      forfeited once the period ends. Partial transfers within a period are allowed, but the total transfer in any period      cannot exceed the specified limit.This enforcer operates only in single execution call type and with default execution mode.\",\"events\":{\"TransferredInPeriod(address,address,bytes32,uint256,uint256,uint256,uint256,uint256)\":{\"params\":{\"delegationHash\":\"The hash identifying the delegation.\",\"periodAmount\":\"The maximum ETH (in wei) transferable per period.\",\"periodDuration\":\"The duration of each period (in seconds).\",\"redeemer\":\"The address that receives the ETH.\",\"sender\":\"The address initiating the transfer.\",\"startDate\":\"The timestamp when the first period begins.\",\"transferTimestamp\":\"The block timestamp at which the transfer was executed.\",\"transferredInCurrentPeriod\":\"The total ETH (in wei) transferred in the current period after this transfer.\"}}},\"kind\":\"dev\",\"methods\":{\"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"Reverts if the transfer value exceeds the available ETH for the current period.      Expects `_terms` to be a 96-byte blob encoding: periodAmount, periodDuration, and startDate.\",\"params\":{\"_delegationHash\":\"The hash identifying the delegation.\",\"_executionCallData\":\"The execution data encoded via ExecutionLib.encodeSingle.        For native ETH transfers, decodeSingle returns (target, value, callData) and callData is expected to be empty.\",\"_mode\":\"The execution mode. (Must be Single callType, Default execType)\",\"_terms\":\"96 packed bytes:  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate for the first period.\"}},\"getAvailableAmount(bytes32,address,bytes)\":{\"params\":{\"_delegationHash\":\"The hash identifying the delegation.\",\"_delegationManager\":\"The delegation manager address.\",\"_terms\":\"96 packed bytes:  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate for the first period.\"},\"returns\":{\"availableAmount_\":\"The simulated available ETH (in wei) in the current period.\",\"currentPeriod_\":\"The current period index as determined by the terms.\",\"isNewPeriod_\":\"True if a new period would be in effect.\"}},\"getTermsInfo(bytes)\":{\"details\":\"Expects a 96-byte blob and extracts: periodAmount, periodDuration, and startDate.\",\"params\":{\"_terms\":\"96 packed bytes:  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate.\"},\"returns\":{\"periodAmount_\":\"The maximum ETH (in wei) transferable per period.\",\"periodDuration_\":\"The duration of each period in seconds.\",\"startDate_\":\"The timestamp when the first period begins.\"}}},\"stateVariables\":{\"periodicAllowances\":{\"details\":\"Mapping from a delegation manager address and delegation hash to a PeriodicAllowance.\"}},\"title\":\"NativeTokenPeriodTransferEnforcer\",\"version\":1},\"userdoc\":{\"events\":{\"TransferredInPeriod(address,address,bytes32,uint256,uint256,uint256,uint256,uint256)\":{\"notice\":\"Emitted when a native token transfer is made, updating the transferred amount in the active period.\"}},\"kind\":\"user\",\"methods\":{\"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions after all actions in a batch redemption process have been executed.\"},\"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions after the execution tied to a specific delegation in the redemption process.\"},\"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions before any actions in a batch redemption process begin.\"},\"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Hook called before a native ETH transfer to enforce the periodic transfer limit.\"},\"getAvailableAmount(bytes32,address,bytes)\":{\"notice\":\"Retrieves the available ETH by simulating the allowance if it has not been initialized.\"},\"getTermsInfo(bytes)\":{\"notice\":\"Decodes the native transfer terms.\"}},\"notice\":\"Enforces periodic transfer limits for native token (ETH) transfers.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/enforcers/NativeTokenPeriodTransferEnforcer.sol\":\"NativeTokenPeriodTransferEnforcer\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@FCL/=lib/FCL/solidity/src/\",\":@SCL/=lib/SCL/src/\",\":@account-abstraction/=lib/account-abstraction/contracts/\",\":@bytes-utils/=lib/solidity-bytes-utils/contracts/\",\":@erc7579/=lib/erc7579-implementation/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-upgradable-contracts/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@solidity-stringutils/=lib/solidity-stringutils/src/\",\":@solidity/=lib/SCL/src/\",\":FCL/=lib/FCL/solidity/src/\",\":SCL/=lib/SCL/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":erc7579-implementation/=lib/erc7579-implementation/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":sentinellist/=lib/erc7579-implementation/node_modules/@rhinestone/sentinellist/src/\",\":solady/=lib/erc7579-implementation/node_modules/solady/src/\",\":solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/\",\":solidity-stringutils/=lib/solidity-stringutils/\"]},\"sources\":{\"lib/account-abstraction/contracts/interfaces/PackedUserOperation.sol\":{\"keccak256\":\"0x1129b46381db68eddbc5cb49e50664667b66b03c480453858e7b25eabe444359\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://499a948aba60480dba6e25c763b8d918f1c246eb7a3302e04f493e080f3295be\",\"dweb:/ipfs/QmeRhhswf4NACcBKam2PyjpTP2ddSm648kah5kkQJsvwz3\"]},\"lib/erc7579-implementation/src/interfaces/IERC7579Account.sol\":{\"keccak256\":\"0x08368aba5f1bb83eb57e9f8d31a04edee4be69159b4844a6443f65100917011c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://789244f53fb8b25f4bacb8ac0b9c2f5ea2067a9c5c7bd13fd00e10618e52e2ff\",\"dweb:/ipfs/QmVSbGSyDpfL6UfyvaMBQHmV9u52wway1h3caJnvXVgkvn\"]},\"lib/erc7579-implementation/src/lib/ExecutionLib.sol\":{\"keccak256\":\"0xb436732367ed8a45ddfaa95c9c977ee7674ff5755353c3792a38608640406126\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8a60f10547e9d25e96e516406f16a35ce075dd4db79b7dccd92f90224c9f23b4\",\"dweb:/ipfs/QmcC3jpNmo7kT1oU8taPuZRjcWh88J3d4rv3hYsQKRVBwW\"]},\"lib/erc7579-implementation/src/lib/ModeLib.sol\":{\"keccak256\":\"0x02ce0fc8805d1427841f32e2335157e3fae18e99d5c49ba46d53e12fcd1a5185\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9900d0dfb593b136a058a16f1817f60d5096c3eca6adea662381e12c241b14b4\",\"dweb:/ipfs/QmdsfLLtfzY9oEpZxk1Ve1PLuPQdphZcNK92L6mHa8n1h7\"]},\"src/enforcers/CaveatEnforcer.sol\":{\"keccak256\":\"0xe6e44a3dfcb667fba89d7dc73ba06327add01a9ef4ecd11f3627d97e337041d5\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://79988dc7b56022300549c6ede1c7075fdcadb308191e0ece4f85f94f69036bb5\",\"dweb:/ipfs/QmRG1q4NFfo6RpoVWMdK3679eLg2fUru4dUESwCcmxzvoz\"]},\"src/enforcers/NativeTokenPeriodTransferEnforcer.sol\":{\"keccak256\":\"0xfaff79619e34b108a7a6bf2f1dac2cb46f63128f7da7065f1a4492532338172c\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://b857520234757b954389dfe96df2c0089e5bc698f7af0359e59a18b9c93bd2e7\",\"dweb:/ipfs/QmZyQrMf8UBg4LBsdKktnb3JGKN3iT8fZ8HVBbRtE9nGQa\"]},\"src/interfaces/ICaveatEnforcer.sol\":{\"keccak256\":\"0x61c2d69cb8cc4b04d5ce786ff1b38c07009a262b64900e58a109239942bfad16\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://a67f09f1229e703574dff9103daafa494e90e22577691f180ecfc2c3f50a3ecc\",\"dweb:/ipfs/QmVFXq8mx2PMkgMLoh3pTyQqkH9umwRUjKXtjeZscktf79\"]},\"src/utils/Constants.sol\":{\"keccak256\":\"0x5f1e2913a96b7f88bc7fbd2de329465822ae0d438ff212883c6dd3bd5e9609a5\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://51a750792520aaf10cb246112d5554bb33007edd8be97b78e90be9847d663978\",\"dweb:/ipfs/QmbQSZGNeG9f8DNVbCEo1SGRoJU4fQJwQfUHrzQNayFWNs\"]},\"src/utils/Types.sol\":{\"keccak256\":\"0xda4094eb4839087157f34750fb4d1a2d6241fbb8ee0d41fd1f2905209e6a05b0\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://1fab0d416245579b01d908ffb607f41ace7b103c1c6a3b9d0f8b32f29ac46247\",\"dweb:/ipfs/QmfDWFbdCEkvaKnPpZmDPtxYVBxHt2XA2zY9jon9Jm7pFf\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"sender","type":"address","indexed":true},{"internalType":"address","name":"redeemer","type":"address","indexed":true},{"internalType":"bytes32","name":"delegationHash","type":"bytes32","indexed":true},{"internalType":"uint256","name":"periodAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"periodDuration","type":"uint256","indexed":false},{"internalType":"uint256","name":"startDate","type":"uint256","indexed":false},{"internalType":"uint256","name":"transferredInCurrentPeriod","type":"uint256","indexed":false},{"internalType":"uint256","name":"transferTimestamp","type":"uint256","indexed":false}],"type":"event","name":"TransferredInPeriod","anonymous":false},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"afterAllHook"},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"afterHook"},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"beforeAllHook"},{"inputs":[{"internalType":"bytes","name":"_terms","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"_mode","type":"bytes32"},{"internalType":"bytes","name":"_executionCallData","type":"bytes"},{"internalType":"bytes32","name":"_delegationHash","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"_redeemer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"beforeHook"},{"inputs":[{"internalType":"bytes32","name":"_delegationHash","type":"bytes32"},{"internalType":"address","name":"_delegationManager","type":"address"},{"internalType":"bytes","name":"_terms","type":"bytes"}],"stateMutability":"view","type":"function","name":"getAvailableAmount","outputs":[{"internalType":"uint256","name":"availableAmount_","type":"uint256"},{"internalType":"bool","name":"isNewPeriod_","type":"bool"},{"internalType":"uint256","name":"currentPeriod_","type":"uint256"}]},{"inputs":[{"internalType":"bytes","name":"_terms","type":"bytes"}],"stateMutability":"pure","type":"function","name":"getTermsInfo","outputs":[{"internalType":"uint256","name":"periodAmount_","type":"uint256"},{"internalType":"uint256","name":"periodDuration_","type":"uint256"},{"internalType":"uint256","name":"startDate_","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"delegationManager","type":"address"},{"internalType":"bytes32","name":"delegationHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"periodicAllowances","outputs":[{"internalType":"uint256","name":"periodAmount","type":"uint256"},{"internalType":"uint256","name":"periodDuration","type":"uint256"},{"internalType":"uint256","name":"startDate","type":"uint256"},{"internalType":"uint256","name":"lastTransferPeriod","type":"uint256"},{"internalType":"uint256","name":"transferredInCurrentPeriod","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"Reverts if the transfer value exceeds the available ETH for the current period.      Expects `_terms` to be a 96-byte blob encoding: periodAmount, periodDuration, and startDate.","params":{"_delegationHash":"The hash identifying the delegation.","_executionCallData":"The execution data encoded via ExecutionLib.encodeSingle.        For native ETH transfers, decodeSingle returns (target, value, callData) and callData is expected to be empty.","_mode":"The execution mode. (Must be Single callType, Default execType)","_terms":"96 packed bytes:  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate for the first period."}},"getAvailableAmount(bytes32,address,bytes)":{"params":{"_delegationHash":"The hash identifying the delegation.","_delegationManager":"The delegation manager address.","_terms":"96 packed bytes:  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate for the first period."},"returns":{"availableAmount_":"The simulated available ETH (in wei) in the current period.","currentPeriod_":"The current period index as determined by the terms.","isNewPeriod_":"True if a new period would be in effect."}},"getTermsInfo(bytes)":{"details":"Expects a 96-byte blob and extracts: periodAmount, periodDuration, and startDate.","params":{"_terms":"96 packed bytes:  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate."},"returns":{"periodAmount_":"The maximum ETH (in wei) transferable per period.","periodDuration_":"The duration of each period in seconds.","startDate_":"The timestamp when the first period begins."}}},"version":1},"userdoc":{"kind":"user","methods":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions after all actions in a batch redemption process have been executed."},"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions after the execution tied to a specific delegation in the redemption process."},"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions before any actions in a batch redemption process begin."},"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Hook called before a native ETH transfer to enforce the periodic transfer limit."},"getAvailableAmount(bytes32,address,bytes)":{"notice":"Retrieves the available ETH by simulating the allowance if it has not been initialized."},"getTermsInfo(bytes)":{"notice":"Decodes the native transfer terms."}},"version":1}},"settings":{"remappings":["@FCL/=lib/FCL/solidity/src/","@SCL/=lib/SCL/src/","@account-abstraction/=lib/account-abstraction/contracts/","@bytes-utils/=lib/solidity-bytes-utils/contracts/","@erc7579/=lib/erc7579-implementation/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-upgradable-contracts/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@solidity-stringutils/=lib/solidity-stringutils/src/","@solidity/=lib/SCL/src/","FCL/=lib/FCL/solidity/src/","SCL/=lib/SCL/","account-abstraction/=lib/account-abstraction/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","erc7579-implementation/=lib/erc7579-implementation/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","sentinellist/=lib/erc7579-implementation/node_modules/@rhinestone/sentinellist/src/","solady/=lib/erc7579-implementation/node_modules/solady/src/","solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/","solidity-stringutils/=lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/enforcers/NativeTokenPeriodTransferEnforcer.sol":"NativeTokenPeriodTransferEnforcer"},"evmVersion":"london","libraries":{}},"sources":{"lib/account-abstraction/contracts/interfaces/PackedUserOperation.sol":{"keccak256":"0x1129b46381db68eddbc5cb49e50664667b66b03c480453858e7b25eabe444359","urls":["bzz-raw://499a948aba60480dba6e25c763b8d918f1c246eb7a3302e04f493e080f3295be","dweb:/ipfs/QmeRhhswf4NACcBKam2PyjpTP2ddSm648kah5kkQJsvwz3"],"license":"GPL-3.0"},"lib/erc7579-implementation/src/interfaces/IERC7579Account.sol":{"keccak256":"0x08368aba5f1bb83eb57e9f8d31a04edee4be69159b4844a6443f65100917011c","urls":["bzz-raw://789244f53fb8b25f4bacb8ac0b9c2f5ea2067a9c5c7bd13fd00e10618e52e2ff","dweb:/ipfs/QmVSbGSyDpfL6UfyvaMBQHmV9u52wway1h3caJnvXVgkvn"],"license":"MIT"},"lib/erc7579-implementation/src/lib/ExecutionLib.sol":{"keccak256":"0xb436732367ed8a45ddfaa95c9c977ee7674ff5755353c3792a38608640406126","urls":["bzz-raw://8a60f10547e9d25e96e516406f16a35ce075dd4db79b7dccd92f90224c9f23b4","dweb:/ipfs/QmcC3jpNmo7kT1oU8taPuZRjcWh88J3d4rv3hYsQKRVBwW"],"license":"MIT"},"lib/erc7579-implementation/src/lib/ModeLib.sol":{"keccak256":"0x02ce0fc8805d1427841f32e2335157e3fae18e99d5c49ba46d53e12fcd1a5185","urls":["bzz-raw://9900d0dfb593b136a058a16f1817f60d5096c3eca6adea662381e12c241b14b4","dweb:/ipfs/QmdsfLLtfzY9oEpZxk1Ve1PLuPQdphZcNK92L6mHa8n1h7"],"license":"MIT"},"src/enforcers/CaveatEnforcer.sol":{"keccak256":"0xe6e44a3dfcb667fba89d7dc73ba06327add01a9ef4ecd11f3627d97e337041d5","urls":["bzz-raw://79988dc7b56022300549c6ede1c7075fdcadb308191e0ece4f85f94f69036bb5","dweb:/ipfs/QmRG1q4NFfo6RpoVWMdK3679eLg2fUru4dUESwCcmxzvoz"],"license":"MIT AND Apache-2.0"},"src/enforcers/NativeTokenPeriodTransferEnforcer.sol":{"keccak256":"0xfaff79619e34b108a7a6bf2f1dac2cb46f63128f7da7065f1a4492532338172c","urls":["bzz-raw://b857520234757b954389dfe96df2c0089e5bc698f7af0359e59a18b9c93bd2e7","dweb:/ipfs/QmZyQrMf8UBg4LBsdKktnb3JGKN3iT8fZ8HVBbRtE9nGQa"],"license":"MIT AND Apache-2.0"},"src/interfaces/ICaveatEnforcer.sol":{"keccak256":"0x61c2d69cb8cc4b04d5ce786ff1b38c07009a262b64900e58a109239942bfad16","urls":["bzz-raw://a67f09f1229e703574dff9103daafa494e90e22577691f180ecfc2c3f50a3ecc","dweb:/ipfs/QmVFXq8mx2PMkgMLoh3pTyQqkH9umwRUjKXtjeZscktf79"],"license":"MIT AND Apache-2.0"},"src/utils/Constants.sol":{"keccak256":"0x5f1e2913a96b7f88bc7fbd2de329465822ae0d438ff212883c6dd3bd5e9609a5","urls":["bzz-raw://51a750792520aaf10cb246112d5554bb33007edd8be97b78e90be9847d663978","dweb:/ipfs/QmbQSZGNeG9f8DNVbCEo1SGRoJU4fQJwQfUHrzQNayFWNs"],"license":"MIT AND Apache-2.0"},"src/utils/Types.sol":{"keccak256":"0xda4094eb4839087157f34750fb4d1a2d6241fbb8ee0d41fd1f2905209e6a05b0","urls":["bzz-raw://1fab0d416245579b01d908ffb607f41ace7b103c1c6a3b9d0f8b32f29ac46247","dweb:/ipfs/QmfDWFbdCEkvaKnPpZmDPtxYVBxHt2XA2zY9jon9Jm7pFf"],"license":"MIT AND Apache-2.0"}},"version":1},"id":82}